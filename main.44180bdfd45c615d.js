"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[179],{183:()=>{function Me(t){return"function"==typeof t}function ol(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const sl=ol(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(o){e=o instanceof sl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{sC(o)}catch(s){e=e??[],s instanceof sl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sC(e);else{if(e instanceof Rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zo(n,e)}remove(e){const{_finalizers:n}=this;n&&zo(n,e),e instanceof Rn&&e._removeParent(this)}}Rn.EMPTY=(()=>{const t=new Rn;return t.closed=!0,t})();const iC=Rn.EMPTY;function oC(t){return t instanceof Rn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function sC(t){Me(t)?t():t.unsubscribe()}const Ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},al={setTimeout(t,e,...n){const{delegate:r}=al;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=al;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aC(t){al.setTimeout(()=>{const{onUnhandledError:e}=Ui;if(!e)throw t;e(t)})}function uC(){}const DB=hp("C",void 0,void 0);function hp(t,e,n){return{kind:t,value:e,error:n}}let $i=null;function ul(t){if(Ui.useDeprecatedSynchronousErrorHandling){const e=!$i;if(e&&($i={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$i;if($i=null,n)throw r}}else t()}class fp extends Rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oC(e)&&e.add(this)):this.destination=xB}static create(e,n,r){return new Aa(e,n,r)}next(e){this.isStopped?gp(function bB(t){return hp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gp(function TB(t){return hp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gp(DB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const SB=Function.prototype.bind;function pp(t,e){return SB.call(t,e)}class AB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}}class Aa extends fp{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ui.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pp(e.next,o),error:e.error&&pp(e.error,o),complete:e.complete&&pp(e.complete,o)}):i=e}this.destination=new AB(i)}}function cl(t){Ui.useDeprecatedSynchronousErrorHandling?function CB(t){Ui.useDeprecatedSynchronousErrorHandling&&$i&&($i.errorThrown=!0,$i.error=t)}(t):aC(t)}function gp(t,e){const{onStoppedNotification:n}=Ui;n&&al.setTimeout(()=>n(t,e))}const xB={closed:!0,next:uC,error:function MB(t){throw t},complete:uC},mp="function"==typeof Symbol&&Symbol.observable||"@@observable";function yp(t){return t}let wt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function kB(t){return t&&t instanceof fp||function NB(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&oC(t)}(n)?n:new Aa(n,r,i);return ul(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=lC(r))((i,o)=>{const s=new Aa({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mp](){return this}pipe(...n){return function cC(t){return 0===t.length?yp:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=lC(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function lC(t){var e;return null!==(e=t??Ui.Promise)&&void 0!==e?e:Promise}const RB=ol(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _p=(()=>{class t extends wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RB}next(n){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?iC:(this.currentObservers=null,o.push(n),new Rn(()=>{this.currentObservers=null,zo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new wt;return n.source=this,n}}return t.create=(e,n)=>new dC(e,n),t})();class dC extends _p{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:iC}}function qo(t){return e=>{if(function PB(t){return Me(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wo(t,e,n,r,i){return new OB(t,e,n,r,i)}class OB extends fp{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vp(t,e){return qo((n,r)=>{let i=0;n.subscribe(Wo(r,o=>{r.next(t.call(e,o,i++))}))})}function fC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ji(t){return this instanceof ji?(this.v=t,this):new ji(t)}function BB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function gC(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}const mC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yC(t){return Me(t?.then)}function _C(t){return Me(t[mp])}function vC(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function wC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IC=function $B(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function EC(t){return Me(t?.[IC])}function DC(t){return function VB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ji?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ji(n.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{n.releaseLock()}})}function TC(t){return Me(t?.getReader)}function Tr(t){if(t instanceof wt)return t;if(null!=t){if(_C(t))return function jB(t){return new wt(e=>{const n=t[mp]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mC(t))return function GB(t){return new wt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yC(t))return function HB(t){return new wt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aC)})}(t);if(vC(t))return bC(t);if(EC(t))return function zB(t){return new wt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(TC(t))return function qB(t){return bC(DC(t))}(t)}throw wC(t)}function bC(t){return new wt(e=>{(function WB(t,e){var n,r,i,o;return function FB(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=BB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ni(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function CC(t,e,n=1/0){return Me(e)?CC((r,i)=>vp((o,s)=>e(r,o,i,s))(Tr(t(r,i))),n):("number"==typeof e&&(n=e),qo((r,i)=>function KB(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;Tr(n(g,l++)).subscribe(Wo(e,I=>{i?.(I),o?f(I):e.next(I)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const I=u.shift();s?ni(e,s,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Wo(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const SC=new wt(t=>t.complete());function Ip(t){return t[t.length-1]}function ll(t,e=0){return qo((n,r)=>{n.subscribe(Wo(r,i=>ni(r,t,()=>r.next(i),e),()=>ni(r,t,()=>r.complete(),e),i=>ni(r,t,()=>r.error(i),e)))})}function dl(t,e=0){return qo((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function AC(t,e){if(!t)throw new Error("Iterable cannot be null");return new wt(n=>{ni(n,e,()=>{const r=t[Symbol.asyncIterator]();ni(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function MC(t,e){return e?function sU(t,e){if(null!=t){if(_C(t))return function tU(t,e){return Tr(t).pipe(dl(e),ll(e))}(t,e);if(mC(t))return function rU(t,e){return new wt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(yC(t))return function nU(t,e){return Tr(t).pipe(dl(e),ll(e))}(t,e);if(vC(t))return AC(t,e);if(EC(t))return function iU(t,e){return new wt(n=>{let r;return ni(n,e,()=>{r=t[IC](),ni(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(TC(t))return function oU(t,e){return AC(DC(t),e)}(t,e)}throw wC(t)}(t,e):Tr(t)}function aU(...t){const e=function ZB(t){return function XB(t){return t&&Me(t.schedule)}(Ip(t))?t.pop():void 0}(t),n=function eU(t,e){return"number"==typeof Ip(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Tr(r[0]):function QB(t=1/0){return CC(yp,t)}(n)(MC(r,e)):SC}function Ep(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Aa({next:()=>{r.unsubscribe(),t()}});return Tr(e(...n)).subscribe(r)}function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function Dp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Tp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const cU=pe({__forward_ref__:pe});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return ot(this())},t}function H(t){return bp(t)?t():t}function bp(t){return"function"==typeof t&&t.hasOwnProperty(cU)&&t.__forward_ref__===ve}function Cp(t){return t&&!!t.\u0275providers}class A extends Error{constructor(e,n){super(function Sp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function hl(t,e){throw new A(-201,!1)}function Cn(t,e){null==t&&function fe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function fl(t){return NC(t,pl)||NC(t,RC)}function NC(t,e){return t.hasOwnProperty(e)?t[e]:null}function kC(t){return t&&(t.hasOwnProperty(Ap)||t.hasOwnProperty(mU))?t[Ap]:null}const pl=pe({\u0275prov:pe}),Ap=pe({\u0275inj:pe}),RC=pe({ngInjectableDef:pe}),mU=pe({ngInjectorDef:pe});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Mp;function Zt(t){const e=Mp;return Mp=t,e}function OC(t,e,n){const r=fl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void hl(ot(t))}const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ma={},xp="__NG_DI_FLAG__",gl="ngTempTokenPath",_U=/\n/gm,FC="__source";let Ko;function ii(t){const e=Ko;return Ko=t,e}function IU(t,e=z.Default){if(void 0===Ko)throw new A(-203,!1);return null===Ko?OC(t,void 0,e):Ko.get(t,e&z.Optional?null:void 0,e)}function ne(t,e=z.Default){return(function PC(){return Mp}()||IU)(H(t),e)}function De(t,e=z.Default){return ne(t,ml(e))}function ml(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Np(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){const a=r[s],u=EU(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function xa(t,e){return t[xp]=e,t.prototype[xp]=e,t}function EU(t){return t[xp]}function br(t){return{toString:t}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),pn=(()=>{return(t=pn||(pn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pn;var t})();const Cr={},le=[],yl=pe({\u0275cmp:pe}),kp=pe({\u0275dir:pe}),Rp=pe({\u0275pipe:pe}),VC=pe({\u0275mod:pe}),Sr=pe({\u0275fac:pe}),Na=pe({__NG_ELEMENT_ID__:pe}),BC=pe({__NG_ENV_ID__:pe});function UC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Pp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];jC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function $C(t){return 3===t||4===t||6===t}function jC(t){return 64===t.charCodeAt(0)}function ka(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||GC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function GC(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const HC="ng-template";function bU(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==UC(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function zC(t){return 4===t.type&&t.value!==HC}function CU(t,e,n){return e===(4!==t.type||n?t.value:HC)}function SU(t,e,n){let r=4;const i=t.attrs||[],o=function xU(t){for(let e=0;e<t.length;e++)if($C(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!CU(t,u,n)||""===u&&1===e.length){if(On(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bU(t.attrs,c,n)){if(On(r))return!1;s=!0}continue}const d=AU(8&r?"class":u,i,zC(t),n);if(-1===d){if(On(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==UC(f,c,0)||2&r&&c!==h){if(On(r))return!1;s=!0}}}}else{if(!s&&!On(r)&&!On(u))return!1;if(s&&On(u))continue;s=!1,r=u|1&r}}return On(r)||s}function On(t){return 0==(1&t)}function AU(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function NU(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qC(t,e,n=!1){for(let r=0;r<e.length;r++)if(SU(t,e[r],n))return!0;return!1}function WC(t,e){return t?":not("+e.trim()+")":e}function RU(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!On(s)&&(e+=WC(o,i),i=""),r=s,o=o||!On(r);n++}return""!==i&&(e+=WC(o,i)),e}function KC(t){return br(()=>{const e=YC(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||pn.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};XC(n);const r=t.dependencies;return n.directiveDefs=_l(r,!1),n.pipeDefs=_l(r,!0),n.id=function $U(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function LU(t){return de(t)||xt(t)}function VU(t){return null!==t}function Xn(t){return br(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function QC(t,e){if(null==t)return Cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Q(t){return br(()=>{const e=YC(t);return XC(e),e})}function de(t){return t[yl]||null}function xt(t){return t[kp]||null}function tn(t){return t[Rp]||null}function YC(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:QC(t.inputs,e),outputs:QC(t.outputs)}}function XC(t){t.features?.forEach(e=>e(t))}function _l(t,e){if(!t)return null;const n=e?tn:LU;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(VU)}const dt=0,k=1,J=2,ke=3,Fn=4,Gi=5,Nt=6,Qo=7,Ve=8,Yo=9,Hi=10,Y=11,Pa=12,JC=13,Xo=14,Xe=15,Oa=16,Jo=17,Jn=18,Fa=19,ZC=20,oi=21,Ar=22,vl=23,wl=24,ie=25,Op=1,e0=2,Zn=7,Il=8,Zo=9,It=11;function mn(t){return Array.isArray(t)&&"object"==typeof t[Op]}function yn(t){return Array.isArray(t)&&!0===t[Op]}function Fp(t){return 0!=(4&t.flags)}function zi(t){return t.componentOffset>-1}function El(t){return 1==(1&t.flags)}function Ln(t){return!!t.template}function Lp(t){return 0!=(512&t[J])}function qi(t,e){return t.hasOwnProperty(Sr)?t[Sr]:null}let qU=we.WeakRef??class zU{constructor(e){this.ref=e}deref(){return this.ref}},KU=0,er=null,Dl=!1;function ht(t){const e=er;return er=t,e}class s0{constructor(){this.id=KU++,this.ref=function WU(t){return new qU(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Dl;Dl=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Dl=e}}producerAccessed(){if(Dl)throw new Error("");if(null===er)return;let e=er.producers.get(this.id);void 0===e?(e={consumerNode:er.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:er.trackingVersion},er.producers.set(this.id,e),this.consumers.set(er.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=er.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==er?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let a0=null;const u0=()=>{};class JU extends s0{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=u0,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=ht(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=u0,this.watch(this.registerOnCleanup)}finally{ht(e)}}cleanup(){this.cleanupFn()}}class ZU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mr(){return c0}function c0(t){return t.type.prototype.ngOnChanges&&(t.setInput=t$),e$}function e$(){const t=d0(this),e=t?.current;if(e){const n=t.previous;if(n===Cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function t$(t,e,n,r){const i=this.declaredInputs[n],o=d0(t)||function n$(t,e){return t[l0]=e}(t,{previous:Cr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new ZU(u&&u.currentValue,e,a===Cr),t[r]=e}Mr.ngInherit=!0;const l0="__ngSimpleChanges__";function d0(t){return t[l0]||null}const tr=function(t,e,n){};function Te(t){for(;Array.isArray(t);)t=t[dt];return t}function Cl(t,e){return Te(e[t])}function nn(t,e){return Te(e[t.index])}function p0(t,e){return t.data[e]}function rn(t,e){const n=e[t];return mn(n)?n:n[dt]}function Sl(t){return 128==(128&t[J])}function si(t,e){return null==e?null:t[e]}function g0(t){t[Jo]=0}function u$(t){1024&t[J]||(t[J]|=1024,y0(t,1))}function m0(t){1024&t[J]&&(t[J]&=-1025,y0(t,-1))}function y0(t,e){let n=t[ke];if(null===n)return;n[Gi]+=e;let r=n;for(n=n[ke];null!==n&&(1===e&&1===r[Gi]||-1===e&&0===r[Gi]);)n[Gi]+=e,r=n,n=n[ke]}const j={lFrame:A0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function w0(){return j.bindingsEnabled}function E(){return j.lFrame.lView}function ae(){return j.lFrame.tView}function Gp(t){return j.lFrame.contextLView=t,t[Ve]}function Hp(t){return j.lFrame.contextLView=null,t}function Et(){let t=I0();for(;null!==t&&64===t.type;)t=t.parent;return t}function I0(){return j.lFrame.currentTNode}function nr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function zp(){return j.lFrame.isParent}function ts(){return j.lFrame.bindingIndex++}function Nr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function w$(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wp(e)}function Wp(t){j.lFrame.currentDirectiveIndex=t}function Qp(t){j.lFrame.currentQueryIndex=t}function E$(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Nt]:null}function C0(t,e,n){if(n&z.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=E$(o),null===i||(o=o[Xo],10&i.type))););if(null===i)return!1;e=i,t=o}const r=j.lFrame=S0();return r.currentTNode=e,r.lView=t,!0}function Yp(t){const e=S0(),n=t[k];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function S0(){const t=j.lFrame,e=null===t?null:t.child;return null===e?A0(t):e}function A0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function M0(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const x0=M0;function Xp(){const t=M0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zt(){return j.lFrame.selectedIndex}function Wi(t){j.lFrame.selectedIndex=t}let k0=!0;function Al(){return k0}function ai(t){k0=t}function Ml(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function xl(t,e,n){R0(t,e,3,n)}function Nl(t,e,n,r){(3&t[J])===n&&R0(t,e,n,r)}function Jp(t,e){let n=t[J];(3&n)===e&&(n&=4095,n+=1,t[J]=n)}function R0(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Jo]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Jo]+=65536),(a<o||-1==o)&&(x$(t,n,e,u),t[Jo]=(4294901760&t[Jo])+u+2),u++}function P0(t,e){tr(4,t,e);const n=ht(null);try{e.call(t)}finally{ht(n),tr(5,t,e)}}function x$(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>12<t[Jo]>>16&&(3&t[J])===e&&(t[J]+=4096,P0(a,o)):P0(a,o)}const ns=-1;class Ua{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function O0(t){return t!==ns}function kl(t){return 32767&t}function Rl(t,e){let n=function P$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Xo],n--;return r}let eg=!0;function Pl(t){const e=eg;return eg=t,e}const F0=255,L0=5;let O$=0;const rr={};function Ol(t,e){const n=V0(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,tg(r.data,t),tg(e,null),tg(r.blueprint,null));const i=ng(t,e),o=t.injectorIndex;if(O0(i)){const s=kl(i),a=Rl(i,e),u=a[k].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function tg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function V0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ng(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=z0(i),null===r)return ns;if(n++,i=i[Xo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ns}function rg(t,e,n){!function F$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Na)&&(r=n[Na]),null==r&&(r=n[Na]=O$++);const i=r&F0;e.data[t+(i>>L0)]|=1<<i}(t,e,n)}function B0(t,e,n){if(n&z.Optional||void 0!==t)return t;hl()}function U0(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[Yo],o=Zt(void 0);try{return i?i.get(e,r,n&z.Optional):OC(e,r,n&z.Optional)}finally{Zt(o)}}return B0(r,0,n)}function $0(t,e,n,r=z.Default,i){if(null!==t){if(2048&e[J]){const s=function $$(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[J]&&!(512&s[J]);){const a=j0(o,s,n,r|z.Self,rr);if(a!==rr)return a;let u=o.parent;if(!u){const c=s[ZC];if(c){const l=c.get(n,rr,r);if(l!==rr)return l}u=z0(s),s=s[Xo]}o=u}return i}(t,e,n,r,rr);if(s!==rr)return s}const o=j0(t,e,n,r,rr);if(o!==rr)return o}return U0(e,n,r,i)}function j0(t,e,n,r,i){const o=function B$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Na)?t[Na]:void 0;return"number"==typeof e?e>=0?e&F0:U$:e}(n);if("function"==typeof o){if(!C0(e,t,r))return r&z.Host?B0(i,0,r):U0(e,n,r,i);try{const s=o(r);if(null!=s||r&z.Optional)return s;hl()}finally{x0()}}else if("number"==typeof o){let s=null,a=V0(t,e),u=ns,c=r&z.Host?e[Xe][Nt]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?ng(t,e):e[a+8],u!==ns&&H0(r,!1)?(s=e[k],a=kl(u),e=Rl(u,e)):a=-1);-1!==a;){const l=e[k];if(G0(o,a,l.data)){const d=V$(a,e,n,s,r,c);if(d!==rr)return d}u=e[a+8],u!==ns&&H0(r,e[k].data[a+8]===c)&&G0(o,a,e)?(s=l,a=kl(u),e=Rl(u,e)):a=-1}}return i}function V$(t,e,n,r,i,o){const s=e[k],a=s.data[t+8],l=function Fl(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&Ln(f)&&f.type===n)return u}return null}(a,s,n,null==r?zi(a)&&eg:r!=s&&0!=(3&a.type),i&z.Host&&o===a);return null!==l?Ki(e,s,l,a):rr}function Ki(t,e,n,r){let i=t[n];const o=e.data;if(function N$(t){return t instanceof Ua}(i)){const s=i;s.resolving&&function lU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function he(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}(o[n]));const a=Pl(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Zt(s.injectImpl):null;C0(t,r,z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function M$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=c0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Zt(u),Pl(a),s.resolving=!1,x0()}}return i}function G0(t,e,n){return!!(n[e+(t>>L0)]&1<<t)}function H0(t,e){return!(t&z.Self||t&z.Host&&e)}class rs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $0(this._tNode,this._lView,e,ml(r),n)}}function U$(){return new rs(Et(),E())}function ig(t){return bp(t)?()=>{const e=ig(H(t));return e&&e()}:qi(t)}function z0(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Nt]:null}const os="__parameters__";function as(t,e,n){return br(()=>{const r=function sg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(os)?u[os]:Object.defineProperty(u,os,{value:[]})[os];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ga(t,e){t.forEach(n=>Array.isArray(n)?Ga(n,e):e(n))}function W0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ll(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _n(t,e,n){let r=us(t,e);return r>=0?t[1|r]=n:(r=~r,function q$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ag(t,e){const n=us(t,e);if(n>=0)return t[1|n]}function us(t,e){return function K0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const vn=xa(as("Optional"),8),cg=xa(as("SkipSelf"),4);var on=(()=>((on=on||{})[on.Important=1]="Important",on[on.DashCase=2]="DashCase",on))();const gg=new Map;let mj=0;const yg="__ngContext__";function Rt(t,e){mn(e)?(t[yg]=e[Fa],function _j(t){gg.set(t[Fa],t)}(e)):t[yg]=e}let _g;function vg(t,e){return _g(t,e)}function Wa(t){const e=t[ke];return yn(e)?e[ke]:e}function wg(t){return hS(t[Pa])}function Ig(t){return hS(t[Fn])}function hS(t){for(;null!==t&&!yn(t);)t=t[Fn];return t}function ls(t,e,n,r,i){if(null!=r){let o,s=!1;yn(r)?o=r:mn(r)&&(s=!0,r=r[dt]);const a=Te(r);0===t&&null!==n?null==i?yS(e,n,a):Qi(e,n,a,i||null,!0):1===t&&null!==n?Qi(e,n,a,i||null,!0):2===t?function zl(t,e,n){const r=Gl(t,e);r&&function Lj(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function Uj(t,e,n,r,i){const o=n[Zn];o!==Te(n)&&ls(e,t,r,o,i);for(let a=It;a<n.length;a++){const u=n[a];Qa(u[k],u,t,e,r,o)}}(e,t,o,n,i)}}function jl(t,e,n){return t.createElement(e,n)}function pS(t,e){const n=t[Zo],r=n.indexOf(e);m0(e),n.splice(r,1)}function Dg(t,e){if(t.length<=It)return;const n=It+e,r=t[n];if(r){const i=r[Oa];null!==i&&i!==t&&pS(i,r),e>0&&(t[n-1][Fn]=r[Fn]);const o=Ll(t,It+e);!function Mj(t,e){Qa(t,e,e[Y],2,null,null),e[dt]=null,e[Nt]=null}(r[k],r);const s=o[Jn];null!==s&&s.detachView(o[k]),r[ke]=null,r[Fn]=null,r[J]&=-129}return r}function gS(t,e){if(!(256&e[J])){const n=e[Y];e[vl]?.destroy(),e[wl]?.destroy(),n.destroyNode&&Qa(t,e,n,3,null,null),function kj(t){let e=t[Pa];if(!e)return Tg(t[k],t);for(;e;){let n=null;if(mn(e))n=e[Pa];else{const r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Fn]&&e!==t;)mn(e)&&Tg(e[k],e),e=e[ke];null===e&&(e=t),mn(e)&&Tg(e[k],e),n=e&&e[Fn]}e=n}}(e)}}function Tg(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function Fj(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ua)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];tr(4,a,u);try{u.call(a)}finally{tr(5,a,u)}}else{tr(4,i,o);try{o.call(i)}finally{tr(5,i,o)}}}}}(t,e),function Oj(t,e){const n=t.cleanup,r=e[Qo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Qo]=null);const i=e[oi];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();e[oi]=null}}(t,e),1===e[k].type&&e[Y].destroy();const n=e[Oa];if(null!==n&&yn(e[ke])){n!==e[ke]&&pS(n,e);const r=e[Jn];null!==r&&r.detachView(t)}!function vj(t){gg.delete(t[Fa])}(e)}}function bg(t,e,n){return function mS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[dt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===pn.None||o===pn.Emulated)return null}return nn(r,n)}}(t,e.parent,n)}function Qi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yS(t,e,n){t.appendChild(e,n)}function _S(t,e,n,r,i){null!==r?Qi(t,e,n,r,i):yS(t,e,n)}function Gl(t,e){return t.parentNode(e)}let Cg,xg,IS=function wS(t,e,n){return 40&t.type?nn(t,n):null};function Hl(t,e,n,r){const i=bg(t,r,e),o=e[Y],a=function vS(t,e,n){return IS(t,e,n)}(r.parent||e[Nt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)_S(o,i,n[u],a,!1);else _S(o,i,n,a,!1);void 0!==Cg&&Cg(o,r,e,n,i)}function Ka(t,e){if(null!==e){const n=e.type;if(3&n)return nn(e,t);if(4&n)return Sg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ka(t,r);{const i=t[e.index];return yn(i)?Sg(-1,i):Te(i)}}if(32&n)return vg(e,t)()||Te(t[e.index]);{const r=DS(t,e);return null!==r?Array.isArray(r)?r[0]:Ka(Wa(t[Xe]),r):Ka(t,e.next)}}return null}function DS(t,e){return null!==e?t[Xe][Nt].projection[e.projection]:null}function Sg(t,e){const n=It+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return Ka(r,i)}return e[Zn]}function Ag(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Rt(Te(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ag(t,e,n.child,r,i,o,!1),ls(e,t,i,a,o);else if(32&u){const c=vg(n,r);let l;for(;l=c();)ls(e,t,i,l,o);ls(e,t,i,a,o)}else 16&u?bS(t,e,r,n,i,o):ls(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qa(t,e,n,r,i,o){Ag(n,r,t.firstChild,e,i,o,!1)}function bS(t,e,n,r,i,o){const s=n[Xe],u=s[Nt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ls(e,t,i,u[c],o);else Ag(t,e,u,s[ke],i,o,!0)}function CS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function SS(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Pp(t,e,r),null!==i&&CS(t,e,i),null!==o&&function jj(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class NS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ql=new B("ENVIRONMENT_INITIALIZER"),US=new B("INJECTOR",-1),$S=new B("INJECTOR_DEF_TYPES");class jS{get(e,n=Ma){if(n===Ma){const r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}}function mG(...t){return{\u0275providers:HS(0,t),\u0275fromNgModule:!0}}function HS(t,...e){const n=[],r=new Set;let i;return Ga(e,o=>{const s=o;Fg(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&zS(i,n),n}function zS(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Lg(i,o=>{e.push(o)})}}function Fg(t,e,n,r){if(!(t=H(t)))return!1;let i=null,o=kC(t);const s=!o&&de(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=kC(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Fg(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ga(o.imports,l=>{Fg(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&zS(c,e)}if(!a){const c=qi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:le},{provide:$S,useValue:i,multi:!0},{provide:Ql,useValue:()=>ne(i),multi:!0})}const u=o.providers;null==u||a||Lg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Lg(t,e){for(let n of t)Cp(n)&&(n=n.\u0275providers),Array.isArray(n)?Lg(n,e):e(n)}const yG=pe({provide:String,useValue:pe});function Vg(t){return null!==t&&"object"==typeof t&&yG in t}function Yi(t){return"function"==typeof t}const Bg=new B("Set Injector scope."),Yl={},vG={};let Ug;function Xl(){return void 0===Ug&&(Ug=new jS),Ug}class hs{}class $g extends hs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gg(e,s=>this.processProvider(s)),this.records.set(US,fs(void 0,this)),i.has("environment")&&this.records.set(hs,fs(void 0,this));const o=this.records.get(Bg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($S.multi,le,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ii(this),r=Zt(void 0);try{return e()}finally{ii(n),Zt(r)}}get(e,n=Ma,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(BC))return e[BC](this);r=ml(r);const i=ii(this),o=Zt(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function TG(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&fl(e);a=u&&this.injectableDefInScope(u)?fs(jg(e),Yl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Xl():this.parent).get(e,n=r&z.Optional&&n===Ma?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[gl]=s[gl]||[]).unshift(ot(e)),i)throw s;return function DU(t,e,n,r){const i=t[gl];throw e[FC]&&i.unshift(e[FC]),t.message=function TU(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_U,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[gl]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Zt(o),ii(i)}}resolveInjectorInitializers(){const e=ii(this),n=Zt(void 0);try{const r=this.get(Ql.multi,le,z.Self);for(const i of r)i()}finally{ii(e),Zt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=Yi(e=H(e))?e:H(e&&e.provide);const r=function IG(t){return Vg(t)?fs(void 0,t.useValue):fs(KS(t),Yl)}(e);if(Yi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=fs(void 0,Yl,!0),i.factory=()=>Np(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yl&&(n.value=vG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function DG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function jg(t){const e=fl(t),n=null!==e?e.factory:qi(t);if(null!==n)return n;if(t instanceof B)throw new A(204,!1);if(t instanceof Function)return function wG(t){const e=t.length;if(e>0)throw function Ha(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function gU(t){return t&&(t[pl]||t[RC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function KS(t,e,n){let r;if(Yi(t)){const i=H(t);return qi(i)||jg(i)}if(Vg(t))r=()=>H(t.useValue);else if(function WS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Np(t.deps||[]));else if(function qS(t){return!(!t||!t.useExisting)}(t))r=()=>ne(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function EG(t){return!!t.deps}(t))return qi(i)||jg(i);r=()=>new i(...Np(t.deps))}return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Gg(t,e){for(const n of t)Array.isArray(n)?Gg(n,e):n&&Cp(n)?Gg(n.\u0275providers,e):e(n)}const Jl=new B("AppId",{providedIn:"root",factory:()=>bG}),bG="ng",QS=new B("Platform Initializer"),Xi=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YS=new B("CSP nonce",{providedIn:"root",factory:()=>function Ya(){return void 0!==xg?xg:typeof document<"u"?document:void 0}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JS=(t,e)=>null;function ZS(t,e){return JS(t,e)}class OG{}class nA{}class LG{resolveComponentFactory(e){throw function FG(t){const e=Error(`No component factory found for ${ot(t)}.`);return e.ngComponent=t,e}(e)}}let rd=(()=>{class t{}return t.NULL=new LG,t})();function VG(){return ps(Et(),E())}function ps(t,e){return new Vn(nn(t,e))}let Vn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=VG,t})();class iA{}let Ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function UG(){const t=E(),n=rn(Et().index,t);return(mn(n)?n:t)[Y]}(),t})(),$G=(()=>{class t{}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>null}),t})();class ru{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oA=new ru("16.0.0"),em={};function iu(t){for(;t;){t[J]|=64;const e=Wa(t);if(Lp(t)&&!e)return t;t=e}return null}function tm(t){return t.ngOriginalError}class Zi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tm(e);for(;n&&tm(n);)n=tm(n);return n||null}}const cA=new B("",{providedIn:"root",factory:()=>!1});class hA extends s0{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){iu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=ht(this);this.trackingVersion++;try{e(n,r)}finally{ht(i)}}destroy(){this.trackingVersion++}}let sd=null;function fA(){return sd??=new hA,sd}function pA(t,e){return t[e]??fA()}function gA(t,e){const n=fA();n.hasReadASignal&&(t[e]=sd,n.lView=t,sd=new hA)}const X={};function eo(t){mA(ae(),E(),zt()+t,!1)}function mA(t,e,n,r){if(!r)if(3==(3&e[J])){const o=t.preOrderCheckHooks;null!==o&&xl(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Nl(e,o,0,n)}Wi(n)}function wA(t,e=null,n=null,r){const i=IA(t,e,n,r);return i.resolveInjectorInitializers(),i}function IA(t,e=null,n=null,r,i=new Set){const o=[n||le,mG(t)];return r=r||("object"==typeof t?void 0:ot(t)),new $g(o,e||Xl(),r||null,i)}let ir=(()=>{class t{static create(n,r){if(Array.isArray(n))return wA({name:""},r,n,"");{const i=n.name??"";return wA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ma,t.NULL=new jS,t.\u0275prov=ge({token:t,providedIn:"any",factory:()=>ne(US)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=E();return null===n?ne(t,e):$0(Et(),n,H(t),e)}function ad(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[dt]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),g0(d),d[ke]=d[Xo]=t,d[Ve]=n,d[Hi]=s||t&&t[Hi],d[Y]=a||t&&t[Y],d[Yo]=u||t&&t[Yo]||null,d[Nt]=o,d[Fa]=function yj(){return mj++}(),d[Ar]=l,d[ZC]=c,d[Xe]=2==e.type?t[Xe]:d,d}function ys(t,e,n,r,i){let o=t.data[e];if(null===o)o=function nm(t,e,n,r,i){const o=I0(),s=zp(),u=t.data[e]=function cH(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function v$(){return j.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ba(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return nr(o,!0),o}function ou(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function EA(t,e,n,r,i){const o=pA(e,vl),s=zt(),a=2&r;try{if(Wi(-1),a&&e.length>ie&&mA(t,e,ie,!1),tr(a?2:0,i),a)o.runInContext(n,r,i);else{const c=ht(null);try{n(r,i)}finally{ht(c)}}}finally{a&&null===e[vl]&&gA(e,vl),Wi(s),tr(a?3:1,i)}}function rm(t,e,n){if(Fp(e)){const r=ht(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ht(r)}}}function im(t,e,n){w0()&&(function mH(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;zi(n)&&function DH(t,e,n){const r=nn(e,t),s=ud(t,ad(t,DA(n),null,n.onPush?64:16,r,e,null,t[Hi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ol(n,e),Rt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Ki(e,t,a,n);Rt(c,e),null!==s&&TH(0,a-i,c,u,0,s),Ln(u)&&(rn(n.index,e)[Ve]=Ki(e,t,a,n))}}(t,e,n,nn(n,e)),64==(64&n.flags)&&AA(t,e,n))}function om(t,e,n=nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function DA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=sm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sm(t,e,n,r,i,o,s,a,u,c,l){const d=ie+r,h=d+i,f=function rH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let TA=t=>null;function bA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?CA(n,e,i,o):r.hasOwnProperty(i)&&CA(n,e,r[i],o)}return n}function CA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function am(t,e,n,r){if(w0()){const i=null===r?null:{"":-1},o=function _H(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(qC(e,s.selectors,!1))if(r||(r=[]),Ln(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),um(t,e,a.length)}else r.unshift(s),um(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&SA(t,e,n,s,i,a),i&&function vH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new A(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=ka(n.mergedAttrs,n.attrs)}function SA(t,e,n,r,i,o){for(let c=0;c<r.length;c++)rg(Ol(n,e),t,r[c].type);!function IH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=ou(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ka(n.mergedAttrs,l.hostAttrs),EH(t,n,e,u,l),wH(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function lH(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=bA(d.inputs,l,u,h?h.inputs:null),c=bA(d.outputs,l,c,p);const g=null===u||null===s||zC(e)?null:bH(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function AA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function I$(){return j.lFrame.currentDirectiveIndex}();try{Wi(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Wp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&yH(u,c)}}finally{Wi(-1),Wp(s)}}function yH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function um(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ln(e)&&(n[""]=t)}}function EH(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=qi(i.type)),s=new Ua(o,Ln(i),C);t.blueprint[r]=s,n[r]=s,function pH(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function gH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ou(t,n,i.hostVars,X),i)}function TH(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)MA(r,n,s[a++],s[a++],s[a++])}function MA(t,e,n,r,i){const o=ht(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ht(o)}}function bH(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function xA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function NA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Qp(n[r]),s.contentQueries(2,e[o],o)}}}function ud(t,e){return t[Pa]?t[JC][Fn]=e:t[Pa]=e,t[JC]=e,e}function lm(t,e,n){Qp(0);const r=ht(null);try{e(t,n)}finally{ht(r)}}function OA(t,e){const n=t[Yo],r=n?n.get(Zi,null):null;r&&r.handleError(e)}function dm(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];MA(t.data[s],e[s],r,a,i)}}function Pr(t,e,n){const r=Cl(e,t);!function fS(t,e,n){t.setValue(e,n)}(t[Y],r,n)}function CH(t,e){const n=rn(e,t),r=n[k];!function SH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[dt];null!==i&&null===n[Ar]&&(n[Ar]=ZS(i,n[Yo])),hm(r,n,n[Ve])}function hm(t,e,n){Yp(e);try{const r=t.viewQuery;null!==r&&lm(1,r,n);const i=t.template;null!==i&&EA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&NA(t,e),t.staticViewQueries&&lm(2,t.viewQuery,n);const o=t.components;null!==o&&function AH(t,e){for(let n=0;n<e.length;n++)CH(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Xp()}}let FA=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new JU(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new t}),t})();function cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Tp(i,a):2==o&&(r=Tp(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function su(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Te(o)),yn(o)){for(let a=It;a<o.length;a++){const u=o[a],c=u[k].firstChild;null!==c&&su(u[k],u,c,r)}o[Zn]!==o[dt]&&r.push(o[Zn])}const s=n.type;if(8&s)su(t,e,n.child,r);else if(32&s){const a=vg(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=DS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Wa(e[Xe]);su(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ld(t,e,n,r=!0){const i=e[Hi].rendererFactory;i.begin&&i.begin();try{dd(t,e,t.template,n)}catch(s){throw r&&OA(e,s),s}finally{i.end&&i.end(),e[Hi].effectManager?.flush()}}function dd(t,e,n,r){const i=e[J];if(256!=(256&i)){e[Hi].effectManager?.flush(),Yp(e);try{g0(e),function D0(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&EA(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&xl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Nl(e,c,0,null),Jp(e,0)}if(function PH(t){for(let e=wg(t);null!==e;e=Ig(e)){if(!e[e0])continue;const n=e[Zo];for(let r=0;r<n.length;r++){u$(n[r])}}}(e),function RH(t){for(let e=wg(t);null!==e;e=Ig(e))for(let n=It;n<e.length;n++){const r=e[n],i=r[k];Sl(r)&&dd(i,r,i.template,r[Ve])}}(e),null!==t.contentQueries&&NA(t,e),s){const c=t.contentCheckHooks;null!==c&&xl(e,c)}else{const c=t.contentHooks;null!==c&&Nl(e,c,1),Jp(e,1)}!function nH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=pA(e,wl);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Wi(~o);else{const s=o,a=n[++i],u=n[++i];w$(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[wl]&&gA(e,wl),Wi(-1)}}(t,e);const a=t.components;null!==a&&function FH(t,e){for(let n=0;n<e.length;n++)OH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&lm(2,u,r),s){const c=t.viewCheckHooks;null!==c&&xl(e,c)}else{const c=t.viewHooks;null!==c&&Nl(e,c,2),Jp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,m0(e)}finally{Xp()}}}function OH(t,e){const n=rn(e,t);if(Sl(n)){const r=n[k];80&n[J]?dd(r,n,r.template,n[Ve]):n[Gi]>0&&fm(n)}}function fm(t){for(let r=wg(t);null!==r;r=Ig(r))for(let i=It;i<r.length;i++){const o=r[i];if(Sl(o))if(1024&o[J]){const s=o[k];dd(s,o,s.template,o[Ve])}else o[Gi]>0&&fm(o)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=rn(n[r],t);Sl(i)&&i[Gi]>0&&fm(i)}}class au{get rootNodes(){const e=this._lView,n=e[k];return su(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ve]}set context(e){this._lView[Ve]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(yn(e)){const n=e[Il],r=n?n.indexOf(this):-1;r>-1&&(Dg(e,r),Ll(n,r))}this._attachedToViewContainer=!1}gS(this._lView[k],this._lView)}onDestroy(e){!function _0(t,e){if(256==(256&t[J]))throw new A(911,!1);null===t[oi]&&(t[oi]=[]),t[oi].push(e)}(this._lView,e)}markForCheck(){iu(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){ld(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nj(t,e){Qa(t,e,e[Y],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class LH extends au{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ld(e[k],e,e[Ve],!1)}checkNoChanges(){}get context(){return null}}class LA extends rd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new uu(n,this.ngModule)}}function VA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class BH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ml(r);const i=this.injector.get(e,em,r);return i!==em||n===em?i:this.parentInjector.get(e,n,r)}}class uu extends nA{get inputs(){return VA(this.componentDef.inputs)}get outputs(){return VA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function PU(t){return t.map(RU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof hs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new BH(e,o):e,a=s.get(iA,null);if(null===a)throw new A(407,!1);const l={rendererFactory:a,sanitizer:s.get($G,null),effectManager:s.get(FA,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function iH(t,e,n,r){const o=r.get(cA,!1)||n===pn.ShadowDom,s=t.selectRootElement(e,o);return function oH(t){TA(t)}(s),s}(d,r,this.componentDef.encapsulation,s):jl(d,h,function VH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,g=sm(0,null,null,1,0,null,null,null,null,null,null),m=ad(null,g,null,p,null,null,l,d,s,null,null);let I,y;Yp(m);try{const D=this.componentDef;let P,F=null;D.findHostDirectiveDefs?(P=[],F=new Map,D.findHostDirectiveDefs(D,P,F),P.push(D)):P=[D];const te=function $H(t,e){const n=t[k],r=ie;return t[r]=e,ys(n,r,2,"#host",null)}(m,f),it=function jH(t,e,n,r,i,o,s){const a=i[k];!function GH(t,e,n,r){for(const i of t)e.mergedAttrs=ka(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cd(e,e.mergedAttrs,!0),null!==n&&SS(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=ZS(e,i[Yo]));const c=o.rendererFactory.createRenderer(e,n),l=ad(i,DA(n),null,n.onPush?64:16,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&um(a,t,r.length-1),ud(i,l),i[t.index]=l}(te,f,D,P,m,l,d);y=p0(g,ie),f&&function zH(t,e,n,r){if(r)Pp(t,n,["ng-version",oA.full]);else{const{attrs:i,classes:o}=function OU(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!On(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Pp(t,n,i),o&&o.length>0&&CS(t,n,o.join(" "))}}(d,D,f,r),void 0!==n&&function qH(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(y,this.ngContentSelectors,n),I=function HH(t,e,n,r,i,o){const s=Et(),a=i[k],u=nn(s,i);SA(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Rt(Ki(i,a,s.directiveStart+l,s),i);AA(a,i,s),u&&Rt(u,i);const c=Ki(i,a,s.directiveStart+s.componentOffset,s);if(t[Ve]=i[Ve]=c,null!==o)for(const l of o)l(c,e);return rm(a,s,t),c}(it,D,P,F,m,[WH]),hm(g,m,null)}finally{Xp()}return new UH(this.componentType,I,ps(y,m),m,y)}}class UH extends OG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new LH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;dm(o[k],o,i,e,n),this.previousInputValues.set(e,n),iu(rn(this._tNode.index,o))}}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function WH(){const t=Et();Ml(E()[k],t)}function me(t){let e=function BA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=pm(t.inputs),s.declaredInputs=pm(t.declaredInputs),s.outputs=pm(t.outputs);const a=i.hostBindings;a&&XH(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&QH(t,u),c&&YH(t,c),Dp(t.inputs,i.inputs),Dp(t.declaredInputs,i.declaredInputs),Dp(t.outputs,i.outputs),Ln(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function KH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ka(i.hostAttrs,n=ka(n,i.hostAttrs))}}(r)}function pm(t){return t===Cr?{}:t===le?[]:t}function QH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function YH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function XH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function hd(t){return!!function gm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ws(t,e,n,r,i,o){const a=function to(t,e,n,r){const i=Pt(t,e,n);return Pt(t,e+1,r)||i}(t,function xr(){return j.lFrame.bindingIndex}(),n,i);return Nr(2),a?e+W(n)+r+W(i)+o:X}function Im(t,e,n,r,i,o,s,a){const u=E(),c=ae(),l=t+ie,d=c.firstCreatePass?function E4(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ys(e,t,4,s||null,si(c,a));am(e,n,l,si(c,u)),Ml(e,l);const d=l.tView=sm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];nr(d,!1);const h=tM(c,u,d,t);Al()&&Hl(c,u,h,d),Rt(h,u),ud(u,u[l]=xA(h,u,h,d)),El(d)&&im(c,u,d),null!=s&&om(u,d,a)}let tM=function nM(t,e,n,r){return ai(!0),e[Y].createComment("")};function Ss(t,e,n){const r=E();return Pt(r,ts(),e)&&function wn(t,e,n,r,i,o,s,a){const u=nn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(dm(t,n,l,r,i),zi(e)&&function hH(t,e){const n=rn(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function dH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ae(),function Re(){const t=j.lFrame;return p0(t.tView,t.selectedIndex)}(),r,t,e,r[Y],n,!1),Ss}function Em(t,e,n,r,i){const s=i?"class":"style";dm(t,n,e.inputs[s],s,r)}function In(t,e,n,r){const i=E(),o=ae(),s=ie+t,a=i[Y],u=o.firstCreatePass?function S4(t,e,n,r,i,o){const s=e.consts,u=ys(e,t,2,r,si(s,i));return am(e,n,u,si(s,o)),null!==u.attrs&&cd(u,u.attrs,!1),null!==u.mergedAttrs&&cd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=rM(o,i,u,a,e,t);i[s]=c;const l=El(u);return nr(u,!0),SS(a,c,u),32!=(32&u.flags)&&Al()&&Hl(o,i,c,u),0===function l$(){return j.lFrame.elementDepthCount}()&&Rt(c,i),function d$(){j.lFrame.elementDepthCount++}(),l&&(im(o,i,u),rm(o,u,i)),null!==r&&om(i,u),In}function an(){let t=Et();zp()?function qp(){j.lFrame.isParent=!1}():(t=t.parent,nr(t,!1));const e=t;(function f$(t){return j.skipHydrationRootTNode===t})(e)&&function y$(){j.skipHydrationRootTNode=null}(),function h$(){j.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Ml(n,t),Fp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function k$(t){return 0!=(8&t.flags)}(e)&&Em(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function R$(t){return 0!=(16&t.flags)}(e)&&Em(n,e,E(),e.stylesWithoutHost,!1),an}function Dm(t,e,n,r){return In(t,e,n,r),an(),Dm}let rM=(t,e,n,r,i,o)=>(ai(!0),jl(r,i,function N0(){return j.lFrame.currentNamespace}()));function Cm(){return E()}function yd(t){return!!t&&"function"==typeof t.then}function sM(t){return!!t&&"function"==typeof t.subscribe}function Ot(t,e,n,r){const i=E(),o=ae(),s=Et();return function uM(t,e,n,r,i,o,s){const a=El(r),c=t.firstCreatePass&&function RA(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ve],d=function kA(t){return t[Qo]||(t[Qo]=[])}(e);let h=!0;if(3&r.type||s){const g=nn(r,e),m=s?s(g):g,I=d.length,y=s?P=>s(Te(P[r.index])):r.index;let D=null;if(!s&&a&&(D=function R4(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Qo],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,h=!1;else{o=lM(r,e,l,o,!1);const P=n.listen(m,i,o);d.push(o,P),c&&c.push(i,y,I,I+1)}}else o=lM(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(o),te=d.length;d.push(o,F),c&&c.push(i,r.index,te,-(te+1))}}}(o,i,i[Y],s,t,e,r),Ot}function cM(t,e,n,r){try{return tr(6,e,n),!1!==n(r)}catch(i){return OA(t,i),!1}finally{tr(7,e,n)}}function lM(t,e,n,r,i){return function o(s){if(s===Function)return r;iu(t.componentOffset>-1?rn(t.index,e):e);let u=cM(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=cM(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function _d(t=1){return function D$(t){return(j.lFrame.contextLView=function T$(t,e){for(;t>0;)e=e[Xo],t--;return e}(t,j.lFrame.contextLView))[Ve]}(t)}function vd(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function Am(t){return 2|t}function no(t){return(131068&t)>>2}function Mm(t,e){return-131069&t|e<<2}function xm(t){return 1|t}function wM(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):no(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];j4(t[a],e)&&(u=!0,t[a+1]=r?xm(l):Am(l)),a=r?ci(l):no(l)}u&&(t[n+1]=r?Am(o):xm(o))}function j4(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&us(t,e)>=0}function fu(t,e){return function Bn(t,e,n,r){const i=E(),o=ae(),s=Nr(2);o.firstUpdatePass&&function MM(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[zt()],s=function AM(t,e){return e>=t.expandoStartIndex}(t,n);(function RM(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function X4(t,e,n,r){const i=function Kp(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=pu(n=Nm(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Nm(i,t,e,n,r),null===o){let u=function J4(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==no(r))return t[ci(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Nm(null,t,e,u[1],r),u=pu(u,e.attrs,r),function Z4(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function ez(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=pu(r,t[o].hostAttrs,n);return pu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function U4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=no(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||us(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ci(t[a+1]);t[r+1]=vd(h,a),0!==h&&(t[h+1]=Mm(t[h+1],r)),t[a+1]=function V4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=vd(a,0),0!==a&&(t[a+1]=Mm(t[a+1],r)),a=r;else t[r+1]=vd(u,0),0===a?a=r:t[u+1]=Mm(t[u+1],r),u=r;c&&(t[r+1]=Am(t[r+1])),wM(t,l,r,!0),wM(t,l,r,!1),function $4(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&us(o,e)>=0&&(n[r+1]=xm(n[r+1]))}(e,l,t,r,o),s=vd(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==X&&Pt(i,s,e)&&function NM(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function B4(t){return 1==(1&t)}(c)?kM(u,e,n,i,no(c),s):void 0;wd(l)||(wd(o)||function L4(t){return 2==(2&t)}(c)&&(o=kM(u,null,n,i,a,s)),function $j(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:on.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),t.setStyle(n,r,i,o))}}(r,s,Cl(zt(),n),i,o))}(o,o.data[zt()],i,i[Y],t,i[s+1]=function iz(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ot(function ui(t){return t instanceof NS?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),fu}function Nm(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=pu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function pu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,s,!!n||e[++o]))}return void 0===t?null:t}function kM(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?le:void 0);let f=d?ag(h,r):l===r?h:void 0;if(c&&!wd(f)&&(f=ag(u,r)),wd(f)&&(a=f,s))return a;const p=t[i+1];i=s?ci(p):no(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ag(u,r))}return a}function wd(t){return void 0!==t}function ro(t,e=""){const n=E(),r=ae(),i=t+ie,o=r.firstCreatePass?ys(r,i,1,e,null):r.data[i],s=PM(r,n,o,e,t);n[i]=s,Al()&&Hl(r,n,s,o),nr(o,!1)}let PM=(t,e,n,r,i)=>(ai(!0),function $l(t,e){return t.createText(e)}(e[Y],r));function km(t){return Rm("",t,""),km}function Rm(t,e,n){const r=E(),i=function vs(t,e,n,r){return Pt(t,ts(),n)?e+W(n)+r:X}(r,t,e,n);return i!==X&&Pr(r,zt(),i),Rm}function Pm(t,e,n,r,i){const o=E(),s=ws(o,t,e,n,r,i);return s!==X&&Pr(o,zt(),s),Pm}const xs="en-US";let tx=xs;function Lm(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let o=0;o<t.length;o++)Lm(t[o],e,n,r,i);else{const o=ae(),s=E();let a=Yi(t)?t:H(t.provide),u=KS(t);const c=Et(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Yi(t)||!t.multi){const f=new Ua(u,i,C),p=Bm(a,e,i?l:l+h,d);-1===p?(rg(Ol(c,s),o,a),Vm(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Bm(a,e,l+h,d),p=Bm(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){rg(Ol(c,s),o,a);const I=function T3(t,e,n,r,i){const o=new Ua(t,n,C);return o.multi=[],o.index=e,o.componentProviders=0,Cx(o,i,r&&!n),o}(i?D3:E3,n.length,i,r,u);!i&&m&&(n[p].providerFactory=I),Vm(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),s.push(I)}else Vm(o,t,f>-1?f:p,Cx(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Vm(t,e,n,r){const i=Yi(e),o=function _G(t){return!!t.useClass}(e);if(i||o){const u=(o?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Cx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function E3(t,e,n,r){return Um(this.multi,[])}function D3(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ki(n,n[k],this.providerFactory.index,r);o=a.slice(0,s),Um(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Um(i,o);return o}function Um(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function I3(t,e,n){const r=ae();if(r.firstCreatePass){const i=Ln(t);Lm(n,r.data,r.blueprint,i,!0),Lm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ns{}class b3{}class $m extends Ns{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LA(this);const i=function gn(t,e){const n=t[VC]||null;if(!n&&!0===e)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Rr(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=IA(e,n,[{provide:Ns,useValue:this},{provide:rd,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jm extends b3{constructor(e){super(),this.moduleType=e}create(e){return new $m(this.moduleType,e,[])}}function Hm(t){return e=>{setTimeout(t,void 0,e)}}const Ft=class nq extends _p{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Hm(o),i&&(i=Hm(i)),s&&(s=Hm(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Rn&&e.add(a),a}};let Fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=sq,t})();const iq=Fr,oq=class extends iq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,o=ad(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);o[Oa]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Jn];return null!==a&&(o[Jn]=a.createEmbeddedView(i)),hm(i,o,e),new au(o)}};function sq(){return function bd(t,e){return 4&t.type?new oq(e,t,ps(t,e)):null}(Et(),E())}let cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=fq,t})();function fq(){return function Hx(t,e){let n;const r=e[t.index];return yn(r)?n=r:(n=xA(r,e,null,t),e[t.index]=n,ud(e,n)),zx(n,e,t,r),new jx(n,t,e)}(Et(),E())}const pq=cr,jx=class extends pq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const e=ng(this._hostTNode,this._hostLView);if(O0(e)){const n=Rl(e,this._hostLView),r=kl(e);return new rs(n[k].data[r+8],n)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Gx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,!1),a}createComponent(e,n,r,i,o){const s=e&&!function ja(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?e:new uu(de(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(s?c:this.parentInjector).get(hs,null);g&&(o=g)}de(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,!1),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[k];if(function a$(t){return yn(t[ke])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ke],l=new jx(c,c[Nt],c[ke]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function Rj(t,e,n,r){const i=It+r,o=n.length;r>0&&(n[i-1][Fn]=e),r<o-It?(e[Fn]=n[i],W0(n,It+r,e)):(n.push(e),e[Fn]=null),e[ke]=n;const s=e[Oa];null!==s&&n!==s&&function Pj(t,e){const n=t[Zo];e[Xe]!==e[ke][ke][Xe]&&(t[e0]=!0),null===n?t[Zo]=[e]:n.push(e)}(s,e);const a=e[Jn];null!==a&&a.insertView(t),e[J]|=128}(o,i,a,s),!r){const u=Sg(s,a),c=i[Y],l=Gl(c,a[Zn]);null!==l&&function xj(t,e,n,r,i,o){r[dt]=i,r[Nt]=e,Qa(t,r,n,1,i,o)}(o,a[Nt],c,i,l,u)}return e.attachToViewContainerRef(),W0(Wm(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Gx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Dg(this._lContainer,n);r&&(Ll(Wm(this._lContainer),n),gS(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Dg(this._lContainer,n);return r&&null!=Ll(Wm(this._lContainer),n)?new au(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gx(t){return t[Il]}function Wm(t){return t[Il]||(t[Il]=[])}let zx=function qx(t,e,n,r){if(t[Zn])return;let i;i=8&n.type?Te(r):function gq(t,e){const n=t[Y],r=n.createComment(""),i=nn(e,t);return Qi(n,Gl(n,i),r,function Vj(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Zn]=i};const Qq=new B("Application Initializer");let ry=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=De(Qq,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(yd(o))n.push(o);else if(sM(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lr=new B("LocaleId",{providedIn:"root",factory:()=>De(Lr,z.Optional|z.SkipSelf)||function Xq(){return typeof $localize<"u"&&$localize.locale||xs}()}),n6=(()=>Promise.resolve(0))();function iy(t){typeof Zone>"u"?n6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function yN(...t){}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ft(!1),this.onMicrotaskEmpty=new Ft(!1),this.onStable=new Ft(!1),this.onError=new Ft(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function r6(){let t=we.requestAnimationFrame,e=we.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function s6(t){const e=()=>{!function o6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sy(t),t.isCheckStableRunning=!0,oy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return _N(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),vN(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return _N(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vN(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,sy(t),oy(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,i6,yN,yN);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const i6={};function oy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _N(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vN(t){t._nesting--,oy(t)}class a6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ft,this.onMicrotaskEmpty=new Ft,this.onStable=new Ft,this.onError=new Ft}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const wN=new B("",{providedIn:"root",factory:IN});function IN(){const t=De(Pe);let e=!0;return aU(new wt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new wt(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),iy(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function uU(t={}){const{connector:e=(()=>new _p),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return qo((g,m)=>{c++,!d&&!l&&h();const I=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Ep(p,i))}),I.subscribe(m),!s&&c>0&&(s=new Aa({next:y=>I.next(y),error:y=>{d=!0,h(),a=Ep(f,n,y),I.error(y)},complete:()=>{l=!0,h(),a=Ep(f,r),I.complete()}}),Tr(g).subscribe(s))})(o)}}()))}const EN=new B(""),Sd=new B("");let cy,ay=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,cy||(function u6(t){cy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ne(Pe),ne(uy),ne(Sd))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),uy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return cy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),li=null;const DN=new B("AllowMultipleToken"),ly=new B("PlatformDestroyListeners"),TN=new B("appBootstrapListener");function SN(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(o=[])=>{let s=dy();if(!s||s.injector.get(DN,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function d6(t){if(li&&!li.get(DN,!1))throw new A(400,!1);(function bN(){!function YU(t){a0=t}(()=>{throw new A(600,!1)})})(),li=t;const e=t.get(MN);(function CN(t){t.get(QS,null)?.forEach(n=>n())})(t)}(function AN(t=[],e){return ir.create({name:e,providers:[{provide:Bg,useValue:"platform"},{provide:ly,useValue:new Set([()=>li=null])},...t]})}(a,r))}return function f6(t){const e=dy();if(!e)throw new A(401,!1);return e}()}}function dy(){return li?.get(MN)??null}let MN=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function p6(t="zone.js",e){return"noop"===t?new a6:"zone.js"===t?new Pe(e):t}(r?.ngZone,function xN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function S3(t,e,n){return new $m(t,e,n)}(n.moduleType,this.injector,function ON(t){return[{provide:Pe,useFactory:t},{provide:Ql,multi:!0,useFactory:()=>{const e=De(m6,{optional:!0});return()=>e.initialize()}},{provide:PN,useFactory:g6},{provide:wN,useFactory:IN}]}(()=>i)),s=o.injector.get(Zi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Ad(this._modules,o),a.unsubscribe()})}),function NN(t,e,n){try{const r=n();return yd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(ry);return a.runInitializers(),a.donePromise.then(()=>(function nx(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(tx=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Lr,xs)||xs),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=kN({},r);return function c6(t,e,n){const r=new jm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Du);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ly,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ne(ir))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function kN(t,e){return Array.isArray(e)?e.reduce(kN,t):{...t,...e}}let Du=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(PN),this.componentTypes=[],this.components=[],this.isStable=De(wN),this._injector=De(hs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof nA;if(!this._injector.get(ry).done)throw!i&&function Ra(t){const e=de(t)||xt(t)||tn(t);return null!==e&&e.standalone}(n),new A(405,!1);let s;s=i?n:this._injector.get(rd).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function l6(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ns),c=s.create(ir.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(EN,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ad(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ad(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(TN,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ad(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ad(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const PN=new B("",{providedIn:"root",factory:()=>De(Zi).handleError.bind(void 0)});function g6(){const t=De(Pe),e=De(Zi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let m6=(()=>{class t{constructor(){this.zone=De(Pe),this.applicationRef=De(Du)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let LN=(()=>{class t{}return t.__NG_ELEMENT_ID__=_6,t})();function _6(t){return function v6(t,e,n){if(zi(t)&&!n){const r=rn(t.index,e);return new au(r,r)}return 47&t.type?new au(e[Xe],e):null}(Et(),E(),16==(16&t))}class UN{constructor(){}supports(e){return hd(e)}create(e){return new b6(e)}}const T6=(t,e)=>e;class b6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<jN(r,i,o)?n:r,a=jN(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!hd(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function i4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new C6(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $N),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $N),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class C6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $N{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new S6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function HN(){return new Nd([new UN])}let Nd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||HN()),deps:[[t,new cg,new vn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:HN}),t})();const k6=SN(null,"core",[]);let R6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ne(Du))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({}),t})();let vy=null;function bu(){return vy}class z6{}const di=new B("DocumentToken");class R9{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ck=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new R9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),lk(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{lk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(cr),C(Fr),C(Nd))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function lk(t,e){t.context.$implicit=e.item}let dk=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new P9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(cr),C(Fr))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class P9{constructor(){this.$implicit=null,this.ngIf=null}}function hk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}let oW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({}),t})();function mk(t){return"server"===t}class LW extends z6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fy extends LW{static makeCurrent(){!function H6(t){vy||(vy=t)}(new Fy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function VW(){return Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null}();return null==n?null:function BW(t){Hd=Hd||document.createElement("a"),Hd.setAttribute("href",t);const e=Hd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function x9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Hd,Mu=null,$W=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const Ly=new B("EventManagerPlugins");let Ek=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ne(Ly),ne(Pe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class Dk{constructor(e){this._doc=e}}const Vy="ng-app-id";let Tk=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mk(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Vy}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Vy),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Vy,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(ne(di),ne(Jl),ne(YS,8),ne(Xi))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const By={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uy=/%COMP%/g,zW=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ck(t,e){return e.map(n=>n.replace(Uy,t))}let Sk=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=mk(a),this.defaultRenderer=new $y(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pn.ShadowDom&&(r={...r,encapsulation:pn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Mk?i.applyToHost(n):i instanceof jy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case pn.Emulated:o=new Mk(u,c,r,this.appId,l,s,a,d);break;case pn.ShadowDom:return new QW(u,c,n,r,s,a,this.nonce,d);default:o=new jy(u,c,r,l,s,a,d)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(ne(Ek),ne(Tk),ne(Jl),ne(zW),ne(di),ne(Xi),ne(Pe),ne(YS))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class $y{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(By[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ak(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ak(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=By[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=By[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(on.DashCase|on.Important)?e.style.setProperty(n,r,i&on.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&on.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=bu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function Ak(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class QW extends $y{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ck(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jy extends $y{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?Ck(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Mk extends jy{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function qW(t){return"_ngcontent-%COMP%".replace(Uy,t)}(c),this.hostAttr=function WW(t){return"_nghost-%COMP%".replace(Uy,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let YW=(()=>{class t extends Dk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ne(di))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const xk=["alt","control","meta","shift"],XW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ZW=(()=>{class t extends Dk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bu().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=XW[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xk.forEach(s=>{s!==i&&(0,JW[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(ne(di))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const kk=[{provide:Xi,useValue:"browser"},{provide:QS,useValue:function e5(){Fy.makeCurrent()},multi:!0},{provide:di,useFactory:function n5(){return function qj(t){xg=t}(document),document},deps:[]}],r5=SN(k6,"browser",kk),i5=new B(""),Rk=[{provide:Sd,useClass:class UW{addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?bu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:EN,useClass:ay,deps:[Pe,uy,Sd]},{provide:ay,useClass:ay,deps:[Pe,uy,Sd]}],Pk=[{provide:Bg,useValue:"root"},{provide:Zi,useFactory:function t5(){return new Zi},deps:[]},{provide:Ly,useClass:YW,multi:!0,deps:[di,Pe,Xi]},{provide:Ly,useClass:ZW,multi:!0,deps:[di]},Sk,Tk,Ek,{provide:iA,useExisting:Sk},{provide:class lW{},useClass:$W,deps:[]},[]];let o5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Jl,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(ne(i5,12))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({providers:[...Pk,...Rk],imports:[oW,R6]}),t})();typeof window<"u"&&window;class Hy{}function Vk(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){Vk(o,r,i,s,a,"next",u)}function a(u){Vk(o,r,i,s,a,"throw",u)}s(void 0)})}}const Bk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},qy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new g5;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zd=function(t){return function(t){const e=Bk(t);return qy.encodeByteArray(e,!0)}(t).replace(/\./g,"")},qd=function(t){try{return qy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Wd=()=>{try{return function _5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},$k=()=>{var t;return null===(t=Wd())||void 0===t?void 0:t.config};class Kd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function En(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Wy(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function so(){try{return"object"==typeof indexedDB}catch{return!1}}function xu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Ky(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lr.prototype.create)}}class lr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function x5(t,e){return t.replace(N5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Hn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const N5=/\{\$([^}]+)}/g;function Qy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Gk(o)&&Gk(s)){if(!Qy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gk(t){return null!==t&&"object"==typeof t}function Hk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class R5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function P5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Yy),void 0===i.error&&(i.error=Yy),void 0===i.complete&&(i.complete=Yy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yy(){}const O5=1e3,F5=2,L5=144e5,V5=.5;function Jy(t,e=O5,n=F5){const r=e*Math.pow(n,t),i=Math.round(V5*r*(Math.random()-.5)*2);return Math.min(L5,r+i)}function zn(t){return t&&t._delegate?t._delegate:t}class Lt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class U5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function j5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ao?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Zy=[];var G=(()=>((G=G||{})[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G))();const zk={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},H5=G.INFO,z5={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},q5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=z5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ps{constructor(e){this.name=e,this._logLevel=H5,this._logHandler=q5,this._userLogHandler=null,Zy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const W5=(t,e)=>e.some(n=>t instanceof n);let qk,Wk;const Kk=new WeakMap,e_=new WeakMap,Qk=new WeakMap,t_=new WeakMap,n_=new WeakMap;let r_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return e_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function e7(t){return"function"==typeof t?function Z5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q5(){return Wk||(Wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(i_(this),e),fi(Kk.get(this))}:function(...e){return fi(t.apply(i_(this),e))}:function(e,...n){const r=t.call(i_(this),e,...n);return Qk.set(r,e.sort?e.sort():[e]),fi(r)}}(t):(t instanceof IDBTransaction&&function X5(t){if(e_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});e_.set(t,e)}(t),W5(t,function K5(){return qk||(qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,r_):t)}function fi(t){if(t instanceof IDBRequest)return function Y5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),n_.set(e,t),e}(t);if(t_.has(t))return t_.get(t);const e=e7(t);return e!==t&&(t_.set(t,e),n_.set(e,t)),e}const i_=t=>n_.get(t),n7=["get","getKey","getAll","getAllKeys","count"],r7=["put","add","delete","clear"],o_=new Map;function Yk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(o_.get(e))return o_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!n7.includes(n))return;const o=function(){var s=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return o_.set(e,o),o}!function J5(t){r_=t(r_)}(t=>({...t,get:(e,n,r)=>Yk(e,n)||t.get(e,n,r),has:(e,n)=>!!Yk(e,n)||t.has(e,n)}));class i7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function o7(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const s_="@firebase/app",uo=new Ps("@firebase/app"),Yd="[DEFAULT]",N7={[s_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},co=new Map,Xd=new Map;function k7(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kt(t){const e=t.name;if(Xd.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,t);for(const n of co.values())k7(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Br=new lr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class P7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Nu="9.23.0";function Jk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Yd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=$k()),!n)throw Br.create("no-options");const o=co.get(i);if(o){if(Qy(n,o.options)&&Qy(r,o.config))return o;throw Br.create("duplicate-app",{appName:i})}const s=new G5(i);for(const u of Xd.values())s.addComponent(u);const a=new P7(n,r,s);return co.set(i,a),a}function Zk(t=Yd){const e=co.get(t);if(!e&&t===Yd&&$k())return Jk();if(!e)throw Br.create("no-app",{appName:t});return e}function e1(){return Array.from(co.values())}function qe(t,e,n){var r;let i=null!==(r=N7[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void uo.warn(a.join(" "))}Kt(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const O7="firebase-heartbeat-database",F7=1,ku="firebase-heartbeat-store";let u_=null;function t1(){return u_||(u_=function t7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fi(s.result),u.oldVersion,u.newVersion,fi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(O7,F7,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ku)}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),u_}function c_(){return(c_=_(function*(t){try{return yield(yield t1()).transaction(ku).objectStore(ku).get(r1(t))}catch(e){if(e instanceof Hn)uo.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e?.message});uo.warn(n.message)}}})).apply(this,arguments)}function n1(t,e){return l_.apply(this,arguments)}function l_(){return(l_=_(function*(t,e){try{const r=(yield t1()).transaction(ku,"readwrite");yield r.objectStore(ku).put(e,r1(t)),yield r.done}catch(n){if(n instanceof Hn)uo.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n?.message});uo.warn(r.message)}}})).apply(this,arguments)}function r1(t){return`${t.name}!${t.options.appId}`}class U7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=i1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=i1(),{heartbeatsToSend:r,unsentEntries:i}=function $7(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=zd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function i1(){return(new Date).toISOString().substring(0,10)}class j7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!so()&&xu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function L7(t){return c_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return n1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return n1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function o1(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}!function G7(t){Kt(new Lt("platform-logger",e=>new i7(e),"PRIVATE")),Kt(new Lt("heartbeat",e=>new U7(e),"PRIVATE")),qe(s_,"0.9.13",t),qe(s_,"0.9.13","esm2017"),qe("fire-js","")}("");var N,H7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={},d_=d_||{},K=H7||self;function Zd(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ru(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h_="closure_uid_"+(1e9*Math.random()>>>0),q7=0;function W7(t,e,n){return t.call.apply(t.bind,arguments)}function K7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W7:K7).apply(null,arguments)}function eh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function pi(){this.s=this.s,this.o=this.o}pi.prototype.s=!1,pi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function z7(t){Object.prototype.hasOwnProperty.call(t,h_)&&t[h_]||(t[h_]=++q7)}(this)},pi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function f_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var Y7=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return t}();function Pu(t){return/^[\s\xa0]*$/.test(t)}function th(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return-1!=th().indexOf(t)}function p_(t){return p_[" "](t),t}p_[" "]=function(){};var m_,t,J7=dr("Opera"),Os=dr("Trident")||dr("MSIE"),u1=dr("Edge"),g_=u1||Os,c1=dr("Gecko")&&!(-1!=th().toLowerCase().indexOf("webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),Z7=-1!=th().toLowerCase().indexOf("webkit")&&!dr("Edge");function l1(){var t=K.document;return t?t.documentMode:void 0}e:{var y_="",__=(t=th(),c1?/rv:([^\);]+)(\)|;)/.exec(t):u1?/Edge\/([\d\.]+)/.exec(t):Os?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Z7?/WebKit\/(\S+)/.exec(t):J7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(__&&(y_=__?__[1]:""),Os){var v_=l1();if(null!=v_&&v_>parseFloat(y_)){m_=String(v_);break e}}m_=y_}var e8=K.document&&Os&&(l1()||parseInt(m_,10))||void 0;function Ou(t,e){if(Bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c1){e:{try{p_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:t8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ou.$.h.call(this)}}ft(Ou,Bt);var t8={2:"touch",3:"pen",4:"mouse"};Ou.prototype.h=function(){Ou.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fu="closure_listenable_"+(1e6*Math.random()|0),n8=0;function r8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++n8,this.fa=this.ia=!1}function nh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function I_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h1(t){const e={};for(const n in t)e[n]=t[n];return e}const f1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<f1.length;o++)n=f1[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rh(t){this.src=t,this.g={},this.h=0}function E_(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=s1(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(nh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function D_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}rh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=D_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new r8(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var T_="closure_lm_"+(1e6*Math.random()|0),b_={};function g1(t,e,n,r,i){if(r&&r.once)return y1(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)g1(t,e[o],n,r,i);return null}return n=M_(n),t&&t[Fu]?t.O(e,n,Ru(r)?!!r.capture:!!r,i):m1(t,e,n,!1,r,i)}function m1(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ru(i)?!!i.capture:!!i,a=S_(t);if(a||(t[T_]=a=new rh(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function o8(){const e=s8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Y7||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function y1(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)y1(t,e[o],n,r,i);return null}return n=M_(n),t&&t[Fu]?t.P(e,n,Ru(r)?!!r.capture:!!r,i):m1(t,e,n,!0,r,i)}function _1(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_1(t,e[o],n,r,i);else r=Ru(r)?!!r.capture:!!r,n=M_(n),t&&t[Fu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=D_(o=t.g[e],n,r,i))&&(nh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=S_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=D_(e,n,r,i)),(n=-1<t?e[t]:null)&&C_(n))}function C_(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Fu])E_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=S_(e))?(E_(n,t),0==n.h&&(n.src=null,e[T_]=null)):nh(t)}}}function v1(t){return t in b_?b_[t]:b_[t]="on"+t}function s8(t,e){if(t.fa)t=!0;else{e=new Ou(e,this);var n=t.listener,r=t.la||t.src;t.ia&&C_(t),t=n.call(r,e)}return t}function S_(t){return(t=t[T_])instanceof rh?t:null}var A_="__closure_events_fn_"+(1e9*Math.random()>>>0);function M_(t){return"function"==typeof t?t:(t[A_]||(t[A_]=function(e){return t.handleEvent(e)}),t[A_])}function pt(){pi.call(this),this.i=new rh(this),this.S=this,this.J=null}function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Bt(e,t);else if(e instanceof Bt)e.target=e.target||t;else{var i=e;p1(e=new Bt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ih(s,r,!0,e)&&i}if(i=ih(s=e.g=t,r,!0,e)&&i,i=ih(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ih(s=e.g=n[o],r,!1,e)&&i}function ih(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&E_(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ft(pt,pi),pt.prototype[Fu]=!0,pt.prototype.removeEventListener=function(t,e,n,r){_1(this,t,e,n,r)},pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nh(n[r]);delete t.g[e],t.h--}}this.J=null},pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var x_=K.JSON.stringify;function u8(){var t=N_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var w1=new class a8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new l8,t=>t.reset());class l8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function d8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function h8(t){K.setTimeout(()=>{throw t},0)}let Lu,Vu=!1,N_=new class c8{constructor(){this.h=this.g=null}add(e,n){const r=w1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},I1=()=>{const t=K.Promise.resolve(void 0);Lu=()=>{t.then(f8)}};var f8=()=>{for(var t;t=u8();){try{t.h.call(t.g)}catch(n){h8(n)}var e=w1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vu=!1};function oh(t,e){pt.call(this),this.h=t||1,this.g=e||K,this.j=Vt(this.qb,this),this.l=Date.now()}function k_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function R_(t,e,n){if("function"==typeof t)n&&(t=Vt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vt(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function E1(t){t.g=R_(()=>{t.g=null,t.i&&(t.i=!1,E1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ft(oh,pt),(N=oh.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(k_(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){oh.$.N.call(this),k_(this),delete this.g};class p8 extends pi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E1(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bu(t){pi.call(this),this.h=t,this.g={}}ft(Bu,pi);var D1=[];function T1(t,e,n,r){Array.isArray(n)||(n&&(D1[0]=n.toString()),n=D1);for(var i=0;i<n.length;i++){var o=g1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function b1(t){I_(t.g,function(e,n){this.g.hasOwnProperty(n)&&C_(e)},t),t.g={}}function sh(){this.g=!0}function Fs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return x_(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Bu.prototype.N=function(){Bu.$.N.call(this),b1(this)},Bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sh.prototype.Ea=function(){this.g=!1},sh.prototype.info=function(){};var lo={},C1=null;function ah(){return C1=C1||new pt}function S1(t){Bt.call(this,lo.Ta,t)}function Uu(t){const e=ah();Dt(e,new S1(e))}function A1(t,e){Bt.call(this,lo.STAT_EVENT,t),this.stat=e}function Qt(t){const e=ah();Dt(e,new A1(e,t))}function M1(t,e){Bt.call(this,lo.Ua,t),this.size=e}function $u(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}lo.Ta="serverreachability",ft(S1,Bt),lo.STAT_EVENT="statevent",ft(A1,Bt),lo.Ua="timingevent",ft(M1,Bt);var uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function P_(){}function k1(){}P_.prototype.h=null;var L_,ju={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function O_(){Bt.call(this,"d")}function F_(){Bt.call(this,"c")}function ch(){}function Gu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Bu(this),this.P=v8,this.V=new oh(t=g_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R1}function R1(){this.i=null,this.g="",this.h=!1}ft(O_,Bt),ft(F_,Bt),ft(ch,P_),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},L_=new ch;var v8=45e3,V_={},lh={};function B_(t,e,n){t.L=1,t.v=ph(Ur(e)),t.s=n,t.S=!0,P1(t,null)}function P1(t,e){t.G=Date.now(),Hu(t),t.A=Ur(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),H1(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R1,t.g=pR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new p8(Vt(t.Pa,t,t.g),t.O)),T1(t.U,t.g,"readystatechange",t.nb),e=t.I?h1(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Uu(),function g8(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function O1(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function F1(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=w8(t,n),i==lh){4==e&&(t.o=4,Qt(14),r=!1),Fs(t.j,t.m,null,"[Incomplete Response]");break}if(i==V_){t.o=4,Qt(15),Fs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fs(t.j,t.m,i,null),U_(t,i)}O1(t)&&i!=lh&&i!=V_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),W_(e),e.M=!0,Qt(11))):(Fs(t.j,t.m,n,"[Invalid Chunked Response]"),ho(t),zu(t))}function w8(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?lh:(n=Number(e.substring(n,r)),isNaN(n)?V_:(r+=1)+n>e.length?lh:(e=e.slice(r,r+n),t.C=r+n,e))}function Hu(t){t.Y=Date.now()+t.P,L1(t,t.P)}function L1(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=$u(Vt(t.lb,t),e)}function dh(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function zu(t){0==t.l.H||t.J||lR(t.l,t)}function ho(t){dh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,k_(t.V),b1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function U_(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||$_(n.i,t)))if(!t.K&&$_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;wh(n),_h(n)}q_(n),Qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=$u(Vt(n.ib,n),6e3));if(1>=W1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else po(n,11)}else if((t.K||n.g==t)&&wh(n),!Pu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(j_(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=fR(r,r.J?r.pa:null,r.Y),s.K){K1(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(dh(a),Hu(a)),r.g=s}else uR(r);0<n.j.length&&vh(n)}else"stop"!=c[0]&&"close"!=c[0]||po(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?po(n,7):z_(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Uu()}catch{}}function V1(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zd(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function E8(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zd(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function I8(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Zd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(N=Gu.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==hr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=hr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||g_||this.g&&(this.h.h||this.g.ja()||nR(this.g)))){this.J||4!=l||7==e||Uu(),dh(this);var n=this.g.da();this.ca=n;t:if(O1(this)){var r=nR(this.g);t="";var i=r.length,o=4==hr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),zu(this);var s="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function m8(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qt(12),ho(this),zu(this);break e}Fs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,U_(this,n)}this.S?(F1(this,l,s),g_&&this.i&&3==l&&(T1(this.U,this.V,"tick",this.mb),this.V.start())):(Fs(this.j,this.m,s,null),U_(this,s)),4==l&&ho(this),this.i&&!this.J&&(4==l?lR(this.l,this):(this.i=!1,Hu(this)))}else(function U8(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Pu(t[r]))continue;var n=d8(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function i8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Qt(12)):(this.o=0,Qt(13)),ho(this),zu(this)}}}catch{}},N.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.C<e.length&&(dh(this),F1(this,t,e),this.i&&4!=t&&Hu(this))}},N.cancel=function(){this.J=!0,ho(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function y8(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Uu(),Qt(17)),ho(this),this.o=2,zu(this)):L1(this,this.Y-t)};var B1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=t.h,hh(this,t.j),this.s=t.s,this.g=t.g,fh(this,t.m),this.l=t.l;var e=t.i,n=new Ku;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U1(this,n),this.o=t.o}else t&&(e=String(t).match(B1))?(this.h=!1,hh(this,e[1]||"",!0),this.s=qu(e[2]||""),this.g=qu(e[3]||"",!0),fh(this,e[4]),this.l=qu(e[5]||"",!0),U1(this,e[6]||"",!0),this.o=qu(e[7]||"")):(this.h=!1,this.i=new Ku(null,this.h))}function Ur(t){return new fo(t)}function hh(t,e,n){t.j=n?qu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U1(t,e,n){e instanceof Ku?(t.i=e,function M8(t,e){e&&!t.j&&(gi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(j1(this,r),H1(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wu(e,S8)),t.i=new Ku(e,t.h))}function be(t,e,n){t.i.set(e,n)}function ph(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,T8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function T8(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wu(e,$1,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wu(e,$1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wu(n,"/"==n.charAt(0)?C8:b8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wu(n,A8)),t.join("")};var $1=/[#\/\?@]/g,b8=/[#\?:]/g,C8=/[#\?]/g,S8=/[#\?@]/g,A8=/#/g;function Ku(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gi(t){t.g||(t.g=new Map,t.h=0,t.i&&function D8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function j1(t,e){gi(t),e=Ls(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function G1(t,e){return gi(t),e=Ls(t,e),t.g.has(e)}function H1(t,e,n){j1(t,e),0<n.length&&(t.i=null,t.g.set(Ls(t,e),f_(n)),t.h+=n.length)}function Ls(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z1(t){this.l=t||N8,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Ku.prototype).add=function(t,e){gi(this),this.i=null,t=Ls(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){gi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){gi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},N.Z=function(t){gi(this);let e=[];if("string"==typeof t)G1(this,t)&&(e=e.concat(this.g.get(Ls(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return gi(this),this.i=null,G1(this,t=Ls(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var N8=10;function q1(t){return!!t.h||!!t.g&&t.g.size>=t.j}function W1(t){return t.h?1:t.g?t.g.size:0}function $_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function j_(t,e){t.g?t.g.add(e):t.h=e}function K1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Q1(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return f_(t.i)}z1.prototype.cancel=function(){if(this.i=Q1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var k8=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function R8(){this.g=new k8}function P8(t,e,n){const r=n||"";try{V1(t,function(i,o){let s=i;Ru(i)&&(s=x_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qu(t){this.l=t.fc||null,this.j=t.ob||!1}function mh(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=G_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Qu,P_),Qu.prototype.g=function(){return new mh(this.l,this.j)},Qu.prototype.i=function(t){return function(){return t}}({}),ft(mh,pt);var G_=0;function Y1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Yu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xu(t)}function Xu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=mh.prototype).open=function(t,e){if(this.readyState!=G_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xu(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yu(this)),this.readyState=G_},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xu(this)),this.g&&(this.readyState=3,Xu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yu(this):Xu(this),3==this.readyState&&Y1(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Yu(this))},N.Ya=function(t){this.g&&(this.response=t,Yu(this))},N.ka=function(){this.g&&Yu(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var F8=K.JSON.parse;function Ue(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=X1,this.L=this.M=!1}ft(Ue,pt);var X1="",L8=/^https?$/i,V8=["POST","PUT"];function J1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Z1(t),yh(t)}function Z1(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}function eR(t){if(t.h&&typeof d_<"u"&&(!t.C[1]||4!=hr(t)||2!=t.da()))if(t.v&&4==hr(t))R_(t.La,0,t);else if(Dt(t,"readystatechange"),4==hr(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(B1)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!L8.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<hr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Z1(t)}}finally{yh(t)}}}function yh(t,e){if(t.g){tR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function tR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function hr(t){return t.g?t.g.readyState:0}function nR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case X1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rR(t){let e="";return I_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function H_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rR(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):be(t,e,n))}function Ju(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iR(t){this.Ga=0,this.j=[],this.l=new sh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ju("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ju("baseRetryDelayMs",5e3,t),this.hb=Ju("retryDelaySeedMs",1e4,t),this.eb=Ju("forwardChannelMaxRetries",2,t),this.xa=Ju("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z1(t&&t.concurrentRequestLimit),this.Ja=new R8,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function z_(t){if(oR(t),3==t.H){var e=t.W++,n=Ur(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),Zu(t,n),(e=new Gu(t,t.l,e)).L=2,e.v=ph(Ur(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=pR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hu(e)}hR(t)}function _h(t){t.g&&(W_(t),t.g.cancel(),t.g=null)}function oR(t){_h(t),t.u&&(K.clearTimeout(t.u),t.u=null),wh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function vh(t){if(!q1(t.i)&&!t.m){t.m=!0;var e=t.Na;Lu||I1(),Vu||(Lu(),Vu=!0),N_.add(e,t),t.C=0}}function sR(t,e){var n;n=e?e.m:t.W++;const r=Ur(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),Zu(t,r),t.o&&t.s&&H_(r,t.o,t.s),n=new Gu(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),j_(t.i,n),B_(n,r,e)}function Zu(t,e){t.na&&I_(t.na,function(n,r){be(e,r,n)}),t.h&&V1({},function(n,r){be(e,r,n)})}function aR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{P8(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function uR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Lu||I1(),Vu||(Lu(),Vu=!0),N_.add(e,t),t.A=0}}function q_(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=$u(Vt(t.Ma,t),dR(t,t.A)),t.A++,0))}function W_(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function cR(t){t.g=new Gu(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ur(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),Zu(t,e),t.o&&t.s&&H_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ph(Ur(e)),n.s=null,n.S=!0,P1(n,t)}function wh(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function lR(t,e){var n=null;if(t.g==e){wh(t),W_(t),t.g=null;var r=2}else{if(!$_(t.i,e))return;n=e.F,K1(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Dt(r=ah(),new M1(r,n)),vh(t)}else uR(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function $8(t,e){return!(W1(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=$u(Vt(t.Na,t,e),dR(t,t.C)),t.C++,0)))}(t,e)||2==r&&q_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:po(t,5);break;case 4:po(t,10);break;case 3:po(t,6);break;default:po(t,2)}}function dR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function po(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||hh(n,"https"),ph(n)),function O8(t,e){const n=new sh;if(K.Image){const r=new Image;r.onload=eh(gh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=eh(gh,n,r,"TestLoadImage: error",!1,e),r.onabort=eh(gh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=eh(gh,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qt(2);t.H=0,t.h&&t.h.za(e),hR(t),oR(t)}function hR(t){if(t.H=0,t.ma=[],t.h){const e=Q1(t.i);(0!=e.length||0!=t.j.length)&&(a1(t.ma,e),a1(t.ma,t.j),t.i.i.length=0,f_(t.j),t.j.length=0),t.h.ya()}}function fR(t,e,n){var r=n instanceof fo?Ur(n):new fo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),fh(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fo(null);r&&hh(o,r),e&&(o.g=e),i&&fh(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&be(r,n,e),be(r,"VER",t.ra),Zu(t,r),r}function pR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ue(n&&t.Ha&&!t.va?new Qu({ob:!0}):t.va)).Oa(t.J),e}function gR(){}function Ih(){if(Os&&!(10<=Number(e8)))throw Error("Environmental error: no available transport.")}function Dn(t,e){pt.call(this),this.g=new iR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Pu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Vs(this)}function mR(t){O_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yR(){F_.call(this),this.status=1}function Vs(t){this.g=t}function Wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function K_(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(N=Ue.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():L_.g(),this.C=function N1(t){return t.h||(t.h=t.i())}(this.u?this.u:L_),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void J1(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=K.FormData&&t instanceof K.FormData,!(0<=s1(V8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tR(this),0<this.B&&((this.L=function B8(t){return Os&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){J1(this,o)}},N.ua=function(){typeof d_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),yh(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),Ue.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?eR(this):this.kb())},N.kb=function(){eR(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),F8(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=iR.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=h1(o),p1(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aR(this,i,e),be(n=Ur(this.I),"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),Zu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(rR(o)))+"&"+e:this.o&&H_(n,this.o,o)),j_(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,B_(i,n,null)):B_(i,n,e),this.H=2}}else 3==this.H&&(t?sR(this,t):0==this.j.length||q1(this.i)||sR(this))},N.Ma=function(){if(this.u=null,cR(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$u(Vt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),_h(this),cR(this))},N.ib=function(){null!=this.v&&(this.v=null,_h(this),q_(this),Qt(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=gR.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Ih.prototype.g=function(t,e){return new Dn(t,e)},ft(Dn,pt),Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fR(t,null,t.Y),vh(t)},Dn.prototype.close=function(){z_(this.g)},Dn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=x_(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&vh(e)},Dn.prototype.N=function(){this.g.h=null,delete this.j,z_(this.g),delete this.g,Dn.$.N.call(this)},ft(mR,O_),ft(yR,F_),ft(Vs,gR),Vs.prototype.Ba=function(){Dt(this.g,"a")},Vs.prototype.Aa=function(t){Dt(this.g,new mR(t))},Vs.prototype.za=function(t){Dt(this.g,new yR)},Vs.prototype.ya=function(){Dt(this.g,"b")},ft(Wn,function j8(){this.blockSize=-1}),Wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)K_(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){K_(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){K_(this,r),i=0;break}}this.h=i,this.i+=e},Wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var G8={};function Q_(t){return-128<=t&&128>t?function X7(t,e){var n=G8;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ye([0|e],0>e?-1:0)}):new ye([0|t],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return Bs;if(0>t)return Tt(fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Y_;return new ye(e,0)}var Y_=4294967296,Bs=Q_(0),X_=Q_(1),vR=Q_(16777216);function $r(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Nn(t){return-1==t.h}function Tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(X_)}function Eh(t,e){return t.add(Tt(e))}function Dh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ec(t,e){this.g=t,this.h=e}function Th(t,e){if($r(e))throw Error("division by zero");if($r(t))return new ec(Bs,Bs);if(Nn(t))return e=Th(Tt(t),e),new ec(Tt(e.g),Tt(e.h));if(Nn(e))return e=Th(t,Tt(e)),new ec(Tt(e.g),e.h);if(30<t.g.length){if(Nn(t)||Nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=X_,r=e;0>=r.X(t);)n=wR(n),r=wR(r);var i=Us(n,1),o=Us(r,1);for(r=Us(r,2),n=Us(n,2);!$r(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Us(r,1),n=Us(n,1)}return e=Eh(t,i.R(e)),new ec(i,e)}for(i=Bs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=fr(n)).R(e);Nn(s)||0<s.X(t);)s=(o=fr(n-=r)).R(e);$r(o)&&(o=X_),i=i.add(o),t=Eh(t,s)}return new ec(i,t)}function wR(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function Us(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ye(i,t.h)}(N=ye.prototype).ea=function(){if(Nn(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Y_+r)*e,e*=Y_}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if($r(this))return"0";if(Nn(this))return"-"+Tt(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,r="";;){var i=Th(n,e).g,o=((0<(n=Eh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if($r(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Nn(t=Eh(this,t))?-1:$r(t)?0:1},N.abs=function(){return Nn(this)?Tt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new ye(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if($r(this)||$r(t))return Bs;if(Nn(this))return Nn(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(Nn(t))return Tt(this.R(Tt(t)));if(0>this.X(vR)&&0>t.X(vR))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,Dh(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Dh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)},N.gb=function(t){return Th(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)},Ih.prototype.createWebChannel=Ih.prototype.g,Dn.prototype.send=Dn.prototype.u,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,x1.COMPLETE="complete",k1.EventType=ju,ju.OPEN="a",ju.CLOSE="b",ju.ERROR="c",ju.MESSAGE="d",pt.prototype.listen=pt.prototype.O,Ue.prototype.listenOnce=Ue.prototype.P,Ue.prototype.getLastError=Ue.prototype.Sa,Ue.prototype.getLastErrorCode=Ue.prototype.Ia,Ue.prototype.getStatus=Ue.prototype.da,Ue.prototype.getResponseJson=Ue.prototype.Wa,Ue.prototype.getResponseText=Ue.prototype.ja,Ue.prototype.send=Ue.prototype.ha,Ue.prototype.setWithCredentials=Ue.prototype.Oa,Wn.prototype.digest=Wn.prototype.l,Wn.prototype.reset=Wn.prototype.reset,Wn.prototype.update=Wn.prototype.j,ye.prototype.add=ye.prototype.add,ye.prototype.multiply=ye.prototype.R,ye.prototype.modulo=ye.prototype.gb,ye.prototype.compare=ye.prototype.X,ye.prototype.toNumber=ye.prototype.ea,ye.prototype.toString=ye.prototype.toString,ye.prototype.getBits=ye.prototype.D,ye.fromNumber=fr,ye.fromString=function _R(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Tt(_R(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),r=Bs,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=fr(Math.pow(e,o)),r=r.R(o).add(fr(s))):r=(r=r.R(n)).add(fr(s))}return r};var H8=qn.createWebChannelTransport=function(){return new Ih},z8=qn.getStatEventTarget=function(){return ah()},J_=qn.ErrorCode=uh,q8=qn.EventType=x1,W8=qn.Event=lo,IR=qn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K8=qn.FetchXmlHttpFactory=Qu,bh=qn.WebChannel=k1,Q8=qn.XhrIo=Ue,Y8=(qn.Md5=Wn,qn.Integer=ye);const ER="@firebase/firestore";class gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let $s="9.23.0";const mi=new Ps("@firebase/firestore");function Z_(){return mi.logLevel}function b(t,...e){if(mi.logLevel<=G.DEBUG){const n=e.map(ev);mi.debug(`Firestore (${$s}): ${t}`,...n)}}function We(t,...e){if(mi.logLevel<=G.ERROR){const n=e.map(ev);mi.error(`Firestore (${$s}): ${t}`,...n)}}function Kn(t,...e){if(mi.logLevel<=G.WARN){const n=e.map(ev);mi.warn(`Firestore (${$s}): ${t}`,...n)}}function ev(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+t;throw We(e),new Error(e)}function L(t,e){t||O()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class DR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class J8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z8{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ct,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(_(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new DR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new gt(e)}}class eK{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tK{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new eK(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nK{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,b("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new TR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class bR{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=rK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Fe(0,0))}static max(){return new V(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tc{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===tc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends tc{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const iK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends tc{construct(e,n,r){return new Ke(e,n,r)}static isValidIdentifier(e){return iK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(n)}static emptyPath(){return new Ke([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ue.fromString(e))}static fromName(e){return new M(ue.fromString(e).popFirst(5))}static empty(){return new M(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ue(e.slice()))}}function AR(t){return new Tn(t.readTime,t.key,-1)}class Tn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tn(V.min(),M.empty(),-1)}static max(){return new Tn(V.max(),M.empty(),-1)}}function nv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yi(t){return rv.apply(this,arguments)}function rv(){return rv=_(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==MR)throw t;b("LocalStore","Unexpectedly lost primary lease")}),rv.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function _i(t){return"IndexedDbTransactionError"===t.name}let bn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ic(t){return null==t}function oc(t){return 0===t&&1/t==-1/0}function VR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ee{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ee(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=o??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1,bt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UR(this.data.getIterator())}getIteratorFrom(e){return new UR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class UR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cn{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Ce(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $R("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const xK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(L(!!t),"string"==typeof t){let e=0;const n=xK.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function jr(t){return"string"==typeof t?lt.fromBase64String(t):lt.fromUint8Array(t)}function Nh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kh(t){const e=t.mapValue.fields.__previous_value__;return Nh(e)?kh(e):e}function sc(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}class NK{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nh(t)?4:zR(t)?9007199254740991:10:O()}function gr(t,e){if(t===e)return!0;const n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=wi(r.timestampValue),s=wi(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,jr(t.bytesValue).isEqual(jr(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return $e(r.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(r.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $e(r.integerValue)===$e(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=$e(r.doubleValue),s=$e(i.doubleValue);return o===s?oc(o)===oc(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(VR(o)!==VR(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!gr(o[a],s[a])))return!1;return!0}(t,e);default:return O()}var i}function ac(t,e){return void 0!==(t.values||[]).find(n=>gr(n,e))}function Di(t,e){if(t===e)return 0;const n=Ei(t),r=Ei(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=$e(i.integerValue||i.doubleValue),a=$e(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return jR(t.timestampValue,e.timestampValue);case 4:return jR(sc(t),sc(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,o){const s=jr(i),a=jr(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=q(s[u],a[u]);if(0!==c)return c}return q(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=q($e(i.latitude),$e(o.latitude));return 0!==s?s:q($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=Di(s[u],a[u]);if(c)return c}return q(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ii.mapValue&&o===Ii.mapValue)return 0;if(i===Ii.mapValue)return 1;if(o===Ii.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=Di(s[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function jR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=wi(t),r=wi(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function Hs(t){return sv(t)}function sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=wi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?jr(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=sv(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${sv(r.fields[a])}`;return o+"}"}(t.mapValue):O();var e}function av(t){return!!t&&"integerValue"in t}function uc(t){return!!t&&"arrayValue"in t}function Oh(t){return!!t&&"mapValue"in t}function cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=Ke.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ct(cc(this.value))}}function KR(t){const e=[];return vi(t.fields,(n,r)=>{const i=new Ke([n]);if(Oh(r)){const o=KR(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}class Se{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Se(e,0,V.min(),V.min(),V.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new Se(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Se(e,2,n,V.min(),V.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Se(e,3,n,V.min(),V.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Se&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ti{constructor(e,n){this.position=e,this.inclusive=n}}function QR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):Di(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function YR(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}class zs{constructor(e,n="asc"){this.field=e,this.dir=n}}function PK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class XR{}class oe extends XR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new OK(e,n,r):"array-contains"===n?new VK(e,r):"in"===n?new rP(e,r):"not-in"===n?new BK(e,r):"array-contains-any"===n?new UK(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new FK(e,r):new LK(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Di(n,this.value)):null!==n&&Ei(this.value)===Ei(n)&&this.matchesComparison(Di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _e(e,n)}matches(e){return qs(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function qs(t){return"and"===t.op}function cv(t){return function JR(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&qs(t)}function lv(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(cv(t))return t.filters.map(e=>lv(e)).join(",");{const e=t.filters.map(n=>lv(n)).join(",");return`${t.op}(${e})`}}function ZR(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&gr(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&ZR(o,r.filters[s]),!0)}(t,e):void O();var n,r}function tP(t){return t instanceof oe?`${(e=t).field.canonicalString()} ${e.op} ${Hs(e.value)}`:t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(tP).join(" ,")+"}"}(t):"Filter";var e}class OK extends oe{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class FK extends oe{constructor(e,n){super(e,"in",n),this.keys=nP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LK extends oe{constructor(e,n){super(e,"not-in",n),this.keys=nP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class VK extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uc(n)&&ac(n.arrayValue,this.value)}}class rP extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ac(this.value.arrayValue,n)}}class BK extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ac(this.value.arrayValue,n)}}class UK extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}class $K{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function dv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $K(t,e,n,r,i,o,s)}function vo(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.dt=n}return e.dt}function lc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YR(t.startAt,e.startAt)&&YR(t.endAt,e.endAt)}class Gr{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function aP(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function wo(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Vh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function hv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new zs(n)),e.wt.push(new zs(Ke.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new zs(Ke.keyField(),o))}}}return e.wt}function Yt(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=dv(e.path,e.collectionGroup,wo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of wo(e))n.push(new zs(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Ti(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ti(e.startAt.position,e.startAt.inclusive):null;e._t=dv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Bh(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dc(t,e){return lc(Yt(t),Yt(e))&&t.limitType===e.limitType}function uP(t){return`${vo(Yt(t))}|lt:${t.limitType}`}function gv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>tP(r)).join(", ")}]`),ic(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),`Target(${n})`}(Yt(t))}; limitType=${t.limitType})`}function hc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of wo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=QR(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,wo(n),r)||n.endAt&&!function(i,o,s){const a=QR(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,wo(n),r)));var n,r}function jK(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?Di(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Hr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BR(this.inner)}size(){return this.innerSize}}const GK=new Ee(M.comparator);function ln(){return GK}const dP=new Ee(M.comparator);function fc(...t){let e=dP;for(const n of t)e=e.insert(n.key,n);return e}function hP(t){let e=dP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mr(){return pc()}function fP(){return pc()}function pc(){return new Hr(t=>t.toString(),(t,e)=>t.isEqual(e))}const HK=new Ee(M.comparator),zK=new Ce(M.comparator);function Z(...t){let e=zK;for(const n of t)e=e.add(n);return e}const qK=new Ce(q);function pP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function gP(t){return{integerValue:""+t}}function mP(t,e){return function NR(t){return"number"==typeof t&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?gP(e):pP(t,e)}class Uh{constructor(){this._=void 0}}function WK(t,e,n){return t instanceof Ks?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Nh(i)&&(i=kh(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Io?_P(t,e):t instanceof Eo?vP(t,e):function(r,i){const o=yP(r,i),s=wP(o)+wP(r.gt);return av(o)&&av(r.gt)?gP(s):pP(r.serializer,s)}(t,e)}function KK(t,e,n){return t instanceof Io?_P(t,e):t instanceof Eo?vP(t,e):n}function yP(t,e){return t instanceof Qs?av(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ks extends Uh{}class Io extends Uh{constructor(e){super(),this.elements=e}}function _P(t,e){const n=IP(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Eo extends Uh{constructor(e){super(),this.elements=e}}function vP(t,e){let n=IP(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Qs extends Uh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function wP(t){return $e(t.integerValue||t.doubleValue)}function IP(t){return uc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class YK{constructor(e,n){this.version=e,this.transformResults=n}}class Ne{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ne}static exists(e){return new Ne(void 0,e)}static updateTime(e){return new Ne(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class jh{}function EP(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Xs(t.key,Ne.none()):new Ys(t.key,t.data,Ne.none());{const n=t.data,r=Ct.empty();let i=new Ce(Ke.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new zr(t.key,r,new cn(i.toArray()),Ne.none())}}function XK(t,e,n){t instanceof Ys?function(r,i,o){const s=r.value.clone(),a=bP(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(r,i,o){if(!$h(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=bP(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(TP(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mc(t,e,n,r){return t instanceof Ys?function(i,o,s,a){if(!$h(i.precondition,o))return s;const u=i.value.clone(),c=CP(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(i,o,s,a){if(!$h(i.precondition,o))return s;const u=CP(i.fieldTransforms,a,o),c=o.data;return c.setAll(TP(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,$h(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function JK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=yP(r.transform,i||null);null!=o&&(null===n&&(n=Ct.empty()),n.set(r.field,o))}return n||null}function DP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&js(n,r,(i,o)=>function QK(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Io&&r instanceof Io||n instanceof Eo&&r instanceof Eo?js(n.elements,r.elements,gr):n instanceof Qs&&r instanceof Qs?gr(n.gt,r.gt):n instanceof Ks&&r instanceof Ks);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ys extends jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zr extends jh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function TP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bP(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,KK(s,a,n[i]))}return r}function CP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,WK(o,s,e))}return r}class Xs extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yv extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _v{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&XK(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fP();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=EP(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>DP(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>DP(n,r))}}class vv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=HK;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new vv(e,n,r,i)}}class wv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var tt,ce;(ce=tt||(tt={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS",new Y8([4294967295,4294967295],0);class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Js(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aQ(t,e){return Js(t,e.toTimestamp())}function Qe(t){return L(!!t),V.fromTimestamp(function(e){const n=wi(e);return new Fe(n.seconds,n.nanos)}(t))}function Tv(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function wc(t,e){return Tv(t.databaseId,e.path)}function BP(t){const e=function VP(t){const e=ue.fromString(t);return L(function WP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}(e)),e}(t);return 4===e.length?ue.emptyPath():function UP(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}(e)}function $P(t,e,n){return{name:wc(t,e),fields:n.value.mapValue.fields}}function HP(t){let e=BP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=zP(l);return d instanceof _e&&cv(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new zs(Zs((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ic(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ti((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ti(l.values||[],!l.before)}(n.endAt)),function sP(t,e,n,r,i,o,s,a){return new Gr(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function zP(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Zs(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Zs(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zs(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(e.unaryFilter.field);return oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?oe.create(Zs((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>zP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function Zs(t){return Ke.fromServerFormat(t.fieldPath)}function gQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}class KP{constructor(e){this.fe=e}}function Av(t){const e=HP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Bh(e,e.limit,"L"):e}class Co{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe($e(e.integerValue));else if("doubleValue"in e){const r=$e(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),oc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(jr(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?zR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Co.Ve=new Co;class TQ{constructor(){this.rn=new Pv}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Tn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class Pv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(ue.comparator)).toArray()}}new Uint8Array(0);class $t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class Ao{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ao(0)}static Mn(){return new Ao(-1)}}class xQ{constructor(){this.changes=new Hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Se.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&mc(r.mutation,i,cn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ln();const s=pc(),a=pc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof zr)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),mc(l.mutation,c,l.mutation.getFieldMask(),Fe.now())):s.set(c.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new RQ(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new Ee((s,a)=>s-a),o=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||cn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=fP();l.forEach(h=>{if(!o.has(h)){const f=EP(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function fv(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(mr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:hP(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=fc();return this.indexManager.getCollectionParents(e,i).next(s=>v.forEach(s,a=>{const u=(c=n,l=a.child(i),new Gr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Se.newInvalidDocument(c)))});let s=fc();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&mc(c.mutation,u,cn.empty(),Fe.now()),hc(n,u)&&(s=s.insert(a,u))}),s})}}class PQ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Qe(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Av(r.bundledQuery),readTime:Qe(r.readTime)}),v.resolve();var r}}class OQ{constructor(){this.overlays=new Ee(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=mr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ee((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=mr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=mr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wv(n,r));let o=this.ls.get(n);void 0===o&&(o=Z(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class Ov{constructor(){this.fs=new Ce(yt.ds),this.ws=new Ce(yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new yt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new yt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ue([])),r=new yt(n,e),i=new yt(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ue([])),r=new yt(n,e),i=new yt(n,e+1);let o=Z();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new yt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||M.comparator(e.key,n.key)}}class FQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ce(yt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new _v(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new yt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(q);return n.forEach(i=>{const o=new yt(i,0),s=new yt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new yt(new M(o),0);let a=new Ce(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const o=new yt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new yt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LQ{constructor(e){this.Ds=e,this.docs=new Ee(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(e,n){let r=ln();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Se.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ln();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||nv(AR(l),r)<=0||(i.has(l.key)||hc(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VQ(this)}getSize(e){return v.resolve(this.size)}}class VQ extends xQ{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class BQ{constructor(e){this.persistence=e,this.xs=new Hr(n=>vo(n),lc),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ov,this.targetCount=0,this.Ms=Ao.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class Fv{constructor(e,n){this.$s={},this.overlays={},this.Os=new bn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new BQ(this),this.indexManager=new TQ,this.remoteDocumentCache=new LQ(r=>this.referenceDelegate.Ls(r)),this.serializer=new KP(n),this.qs=new PQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new FQ(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new UQ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class UQ extends aK{constructor(e){super(),this.currentSequenceNumber=e}}class Zh{constructor(e){this.persistence=e,this.Qs=new Ov,this.js=null}static zs(e){return new Zh(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Uv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Uv(e,n.fromCache,r,i)}}class EO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(aP(n))return v.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Bh(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Z(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,Bh(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return aP(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(Z_()<=G.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gv(n)),this.Wi(e,s,n,function SR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Fe(n+1,0):new Fe(n,r));return new Tn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ce(function lP(t){return(e,n)=>{let r=!1;for(const i of wo(t)){const o=jK(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}(e));return n.forEach((i,o)=>{hc(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return Z_()<=G.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",gv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Tn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class jQ{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ee(q),this.Yi=new Hr(o=>vo(o),lc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function TO(t,e){return $v.apply(this,arguments)}function $v(){return $v=_(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Z();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),$v.apply(this,arguments)}function zQ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Wv{constructor(){this.activeTargetIds=function mv(){return qK}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kO{constructor(){this.Hr=new Wv,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KQ{Yr(e){}shutdown(){}}class RO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sf=null;function Qv(){return null===sf?sf=268435456+Math.round(2147483648*Math.random()):sf++,"0x"+sf.toString(16)}const QQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YQ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const jt="WebChannelConnection";class XQ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=Qv(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Kn("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${QQ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=Qv();return new Promise((s,a)=>{const u=new Q8;u.setWithCredentials(!0),u.listenOnce(q8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case J_.NO_ERROR:const l=u.getResponseJson();b(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case J_.TIMEOUT:b(jt,`RPC '${e}' ${o} timed out`),a(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case J_.HTTP_ERROR:const d=u.getStatus();if(b(jt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{b(jt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);b(jt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=Qv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=H8(),a=z8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new K8({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");b(jt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new YQ({ro:m=>{f?b(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(b(jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(jt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,I,y)=>{m.listen(I,D=>{try{y(D)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,bh.EventType.OPEN,()=>{f||b(jt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,bh.EventType.CLOSE,()=>{f||(f=!0,b(jt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,bh.EventType.ERROR,m=>{f||(f=!0,Kn(jt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,bh.EventType.MESSAGE,m=>{var I;if(!f){const y=m.data[0];L(!!y);const P=y.error||(null===(I=y[0])||void 0===I?void 0:I.error);if(P){b(jt,`RPC '${e}' stream ${i} received error:`,P);const F=P.status;let te=function(ti){const Sa=tt[ti];if(void 0!==Sa)return function AP(t){if(void 0===t)return We("GRPC error has no .code"),w.UNKNOWN;switch(t){case tt.OK:return w.OK;case tt.CANCELLED:return w.CANCELLED;case tt.UNKNOWN:return w.UNKNOWN;case tt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case tt.INTERNAL:return w.INTERNAL;case tt.UNAVAILABLE:return w.UNAVAILABLE;case tt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case tt.NOT_FOUND:return w.NOT_FOUND;case tt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case tt.ABORTED:return w.ABORTED;case tt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case tt.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(Sa)}(F),it=P.message;void 0===te&&(te=w.INTERNAL,it="Unknown error status: "+F+" with message "+P.message),f=!0,p.wo(new T(te,it)),d.close()}else b(jt,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,W8.STAT_EVENT,m=>{m.stat===IR.PROXY?b(jt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===IR.NOPROXY&&b(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function af(){return typeof document<"u"?document:null}function Nc(t){return new sQ(t,!0)}class Yv{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class JQ{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Yv(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(We(n.toString()),We("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eY extends JQ{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function lQ(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let o=Qe(r.updateTime?r.updateTime:i);return o.isEqual(V.min())&&(o=Qe(i)),new YK(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Qe(e.commitTime);return this.listener.cu(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=function Ic(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ec(t,e){let n;if(e instanceof Ys)n={update:$P(t,e.key,e.value)};else if(e instanceof Xs)n={delete:wc(t,e.key)};else if(e instanceof zr)n={update:$P(t,e.key,e.data),updateMask:gQ(e.fieldMask)};else{if(!(e instanceof yv))return O();n={verify:wc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Ks)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Eo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Qs)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:aQ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class tY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(w.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class rY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(We(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iY{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var u;Mi(s)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=x(c);l.vu.add(4),yield ia(l),l.bu.set("Unknown"),l.vu.delete(4),yield kc(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new rY(r,i)}}function kc(t){return Jv.apply(this,arguments)}function Jv(){return Jv=_(function*(t){if(Mi(t))for(const e of t.Ru)yield e(!0)}),Jv.apply(this,arguments)}function ia(t){return Zv.apply(this,arguments)}function Zv(){return Zv=_(function*(t){for(const e of t.Ru)yield e(!1)}),Zv.apply(this,arguments)}function Mi(t){return 0===x(t).vu.size}function cf(t,e,n){return sw.apply(this,arguments)}function sw(){return sw=_(function*(t,e,n){if(!_i(e))throw e;t.vu.add(1),yield ia(t),t.bu.set("Offline"),n||(n=()=>function bO(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield kc(t)}))}),sw.apply(this,arguments)}function LO(t,e){return e().catch(n=>cf(t,n,e))}function oa(t){return aw.apply(this,arguments)}function aw(){return aw=_(function*(t){const e=x(t),n=xi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;uY(e);)try{const i=yield zQ(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,cY(e,i)}catch(i){yield cf(e,i)}VO(e)&&BO(e)}),aw.apply(this,arguments)}function uY(t){return Mi(t)&&t.Eu.length<10}function cY(t,e){t.Eu.push(e);const n=xi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function VO(t){return Mi(t)&&!xi(t).Uo()&&t.Eu.length>0}function BO(t){xi(t).start()}function lY(t){return uw.apply(this,arguments)}function uw(){return uw=_(function*(t){xi(t).hu()}),uw.apply(this,arguments)}function dY(t){return cw.apply(this,arguments)}function cw(){return cw=_(function*(t){const e=xi(t);for(const n of t.Eu)e.uu(n.mutations)}),cw.apply(this,arguments)}function hY(t,e,n){return lw.apply(this,arguments)}function lw(){return lw=_(function*(t,e,n){const r=t.Eu.shift(),i=vv.from(r,e,n);yield LO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield oa(t)}),lw.apply(this,arguments)}function fY(t,e){return dw.apply(this,arguments)}function dw(){return dw=_(function*(t,e){var n;e&&xi(t).ou&&(yield(n=_(function*(r,i){if(function SP(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(o=i.code)&&o!==w.ABORTED){const s=r.Eu.shift();xi(r).Qo(),yield LO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield oa(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),VO(t)&&BO(t)}),dw.apply(this,arguments)}function UO(t,e){return hw.apply(this,arguments)}function hw(){return hw=_(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Mi(n);n.vu.add(3),yield ia(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield kc(n)}),hw.apply(this,arguments)}function pw(){return pw=_(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield kc(n)):e||(n.vu.add(2),yield ia(n),n.bu.set("Unknown"))}),pw.apply(this,arguments)}function xi(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new eY(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:lY.bind(null,t),ao:fY.bind(null,t),au:dY.bind(null,t),cu:hY.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Du.Qo(),yield oa(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class gw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new gw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aa(t,e){if(We("AsyncQueue",`${e}: ${t}`),_i(t))return new T(w.UNAVAILABLE,`${e}: ${t}`);throw t}class gY{constructor(){this.queries=new Hr(e=>uP(e),dc),this.onlineState="Unknown",this.ku=new Set}}class EY{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Hr(a=>uP(a),dc),this._c=new Map,this.mc=new Set,this.gc=new Ee(M.comparator),this.yc=new Map,this.Ic=new Ov,this.Tc={},this.Ec=new Map,this.Ac=Ao.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Cw(){return Cw=_(function*(t,e,n){const r=function qw(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AY.bind(null,e),e}(t);try{const i=yield function(o,s){const a=x(o),u=Fe.now(),c=s.reduce((h,f)=>h.add(f.key),Z());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ln(),p=Z();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,I)=>{I.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const I of s){const y=JK(I,l.get(I.key).overlayedDocument);null!=y&&m.push(new zr(I.key,y,KR(y.value.mapValue),Ne.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,s)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:hP(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new Ee(q)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Wr(r,i.changes),yield oa(r.remoteStore)}catch(i){const o=aa(i,"Failed to persist write");n.reject(o)}}),Cw.apply(this,arguments)}function KO(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=x(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&function ww(t){t.ku.forEach(e=>{e.next()})}(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SY(t,e){return Mw.apply(this,arguments)}function Mw(){return Mw=_(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function GQ(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Z();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Rw(n,r,null),kw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wr(n,i)}catch(i){yield yi(i)}}),Mw.apply(this,arguments)}function AY(t,e,n){return xw.apply(this,arguments)}function xw(){return xw=_(function*(t,e,n){const r=x(t);try{const i=yield function(o,s){const a=x(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);Rw(r,e,n),kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wr(r,i)}catch(i){yield yi(i)}}),xw.apply(this,arguments)}function kw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Rw(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Wr(t,e,n){return Fw.apply(this,arguments)}function Fw(){return Fw=_(function*(t,e,n){const r=x(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Uv.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=_(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!_i(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),Fw.apply(this,arguments)}function NY(t,e){return Lw.apply(this,arguments)}function Lw(){return Lw=_(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield TO(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wr(n,r.er)}var i}),Lw.apply(this,arguments)}class lf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=Nc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function DO(t,e,n,r){return new jQ(t,e,n,r)}(this.persistence,new EO,e.initialUser,this.serializer)}createPersistence(e){return new Fv(Zh.zs,this.serializer)}createSharedClientState(e){return new kO}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class da{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>KO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=NY.bind(null,r.syncEngine),yield function fw(t,e){return pw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gY}createDatastore(e){const n=Nc(e.databaseInfo.databaseId),r=new XQ(e.databaseInfo);return new tY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>KO(this.syncEngine,a,0),s=RO.D()?new RO:new KQ,new iY(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new EY(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(n){const r=x(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ia(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class zY{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=bR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=_(function*(a){b("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=aa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function hf(t,e){return Ww.apply(this,arguments)}function Ww(){return Ww=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(o){r.isEqual(o)||(yield TO(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Ww.apply(this,arguments)}function Kw(t,e){return Qw.apply(this,arguments)}function Qw(){return Qw=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Yw(t){return Xw.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>UO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>UO(e.remoteStore,o)),t._onlineComponents=e}),Qw.apply(this,arguments)}function Xw(){return Xw=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function tF(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Kn("Error using user provided cache. Falling back to memory cache: "+n),yield hf(t,new lf)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield hf(t,new lf);return t._offlineComponents}),Xw.apply(this,arguments)}function Jw(){return Jw=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield Kw(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield Kw(t,new da))),t._onlineComponents}),Jw.apply(this,arguments)}function Zw(t){return function ff(t){return Jw.apply(this,arguments)}(t).then(e=>e.syncEngine)}function aF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const uF=new Map;function tI(t,e,n){if(!n)throw new T(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cF(t){if(!M.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lF(t){if(M.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class hF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function eX(t,e,n,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=aF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new X8;switch(n.type){case"firstParty":return new tK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uF.get(e);n&&(b("ComponentProvider","Removing Datastore"),uF.delete(e),n.terminate())}(this),Promise.resolve()}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class St{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new St(this.firestore,e,this._query)}}class _r extends St{constructor(e,n,r){super(e,n,function Ws(t){return new Gr(t)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new M(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}class iX{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Yv(this,"async_queue_retry"),this.Xc=()=>{const n=af();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=af();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_i(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,We("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=gw.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ae extends Pc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pF(this),this._firestoreClient.terminate()}}function sX(t,e){const r="string"==typeof t?t:e||"(default)",i=Jd("object"==typeof t?t:Zk(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Wd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function tX(t,e,n,r={}){var i;const o=(t=se(t,Pc))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=gt.MOCK_USER;else{a=function b5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zd(JSON.stringify({alg:"none",type:"JWT"})),zd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gt(c)}t._authCredentials=new J8(new DR(a,u))}}(i,...o)}return i}function pF(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new NK(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,aF(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new zY(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(lt.fromBase64String(e))}catch(n){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yF{constructor(e){this._methodName=e}}class rI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const uX=/^__.*__$/;class cX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ys(e,this.data,n,this.fieldTransforms)}}function vF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class mf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _f(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vF(this.ca)&&uX.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nc(e)}ya(e,n,r,i=!1){return new mf({ca:e,methodName:n,ga:r,path:Ke.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pa(t){const e=t._freezeSettings(),n=Nc(t._databaseId);return new lX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iI(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);sI("Data must be an object, but it was:",s,r);const a=TF(r,s);let u,c;if(o.merge)u=new cn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Lc(e,d,n);if(!s.contains(h))throw new T(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CF(l,h)||l.push(h)}u=new cn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new cX(new Ct(a),u,c)}function No(t,e){if(bF(t=zn(t)))return sI("Unsupported field value:",e,t),TF(t,e);if(t instanceof yF)return function(n,r){if(!vF(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=No(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=zn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return mP(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:Js(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Js(r.serializer,i)}}if(n instanceof rI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xo)return{bytesValue:LP(r.serializer,n._byteString)};if(n instanceof Ye){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${gf(n)}`)}(t,e)}function TF(t,e){const n={};return BR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vi(t,(r,i)=>{const o=No(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function bF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof rI||t instanceof xo||t instanceof Ye||t instanceof yF)}function sI(t,e,n){if(!bF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Lc(t,e,n){if((e=zn(e))instanceof fa)return e._internalPath;if("string"==typeof e)return function yf(t,e,n){if(e.search(pX)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fa(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e);throw _f("Field path arguments must be of type string or ",t,!1,void 0,n)}const pX=new RegExp("[~\\*/\\[\\]]");function _f(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new T(w.INVALID_ARGUMENT,a+t+u)}function CF(t,e){return t.some(n=>n.isEqual(e))}function wX(t,e){const n=se(t.firestore,Ae),r=function rX(t,e,...n){if(t=zn(t),1===arguments.length&&(e=bR.A()),tI("doc","path",e),t instanceof Pc){const r=ue.fromString(e,...n);return cF(r),new Ye(t,null,new M(r))}{if(!(t instanceof Ye||t instanceof _r))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return cF(r),new Ye(t.firestore,t instanceof _r?t.converter:null,new M(r))}}(t),i=function uI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Uc(t,e){return function(n,r){const i=new ct;return n.asyncQueue.enqueueAndForget(_(function*(){return function bY(t,e,n){return Cw.apply(this,arguments)}(yield Zw(n),r,i)})),i.promise}(function nt(t){return t._firestoreClient||pF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(t),e)}(n,[iI(pa(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ne.exists(!1))]).then(()=>r)}!function(t,e=!0){$s=Nu,Kt(new Lt("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ae(new Z8(n.getProvider("auth-internal")),new nK(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),qe(ER,"3.13.0",t),qe(ER,"3.13.0","esm2017")}(),qe("firebase","9.23.0","app");const PX=(t,e)=>e.some(n=>t instanceof n);let OF,FF;const LF=new WeakMap,lI=new WeakMap,VF=new WeakMap,dI=new WeakMap,hI=new WeakMap;let fI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return lI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||VF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $X(t){return"function"==typeof t?function UX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function FX(){return FF||(FF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(pI(this),e),ki(LF.get(this))}:function(...e){return ki(t.apply(pI(this),e))}:function(e,...n){const r=t.call(pI(this),e,...n);return VF.set(r,e.sort?e.sort():[e]),ki(r)}}(t):(t instanceof IDBTransaction&&function VX(t){if(lI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});lI.set(t,e)}(t),PX(t,function OX(){return OF||(OF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fI):t)}function ki(t){if(t instanceof IDBRequest)return function LX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ki(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LF.set(n,t)}).catch(()=>{}),hI.set(e,t),e}(t);if(dI.has(t))return dI.get(t);const e=$X(t);return e!==t&&(dI.set(t,e),hI.set(e,t)),e}const pI=t=>hI.get(t),GX=["get","getKey","getAll","getAllKeys","count"],HX=["put","add","delete","clear"],gI=new Map;function BF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gI.get(e))return gI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!GX.includes(n))return;const o=function(){var s=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return gI.set(e,o),o}!function BX(t){fI=t(fI)}(t=>({...t,get:(e,n,r)=>BF(e,n)||t.get(e,n,r),has:(e,n)=>!!BF(e,n)||t.has(e,n)}));const UF="@firebase/installations",mI="0.6.4",$F=1e4,jF=`w:${mI}`,GF="FIS_v2",zX="https://firebaseinstallations.googleapis.com/v1",qX=36e5,Kr=new lr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function HF(t){return t instanceof Hn&&t.code.includes("request-failed")}function yI({projectId:t}){return`${zX}/projects/${t}/installations`}function zF(t){return{token:t.token,requestStatus:2,expiresIn:YX(t.expiresIn),creationTime:Date.now()}}function _I(t,e){return vI.apply(this,arguments)}function vI(){return vI=_(function*(t,e){const r=(yield e.json()).error;return Kr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),vI.apply(this,arguments)}function qF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wI(t){return II.apply(this,arguments)}function II(){return II=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),II.apply(this,arguments)}function YX(t){return Number(t.replace("s","000"))}function EI(){return EI=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yI(t),i=qF(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:GF,appId:t.appId,sdkVersion:jF})},u=yield wI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zF(c.authToken)}}throw yield _I("Create Installation",u)}),EI.apply(this,arguments)}function KF(t){return new Promise(e=>{setTimeout(e,t)})}const eJ=/^[cdef][\w-]{21}$/,DI="";function tJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function nJ(t){return function ZX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return eJ.test(n)?n:DI}catch{return DI}}function ya(t){return`${t.appName}!${t.appId}`}const _a=new Map;function QF(t,e){const n=ya(t);YF(n,e),function oJ(t,e){const n=function XF(){return!Ro&&"BroadcastChannel"in self&&(Ro=new BroadcastChannel("[Firebase] FID Change"),Ro.onmessage=t=>{YF(t.data.key,t.data.fid)}),Ro}();n&&n.postMessage({key:t,fid:e}),function JF(){0===_a.size&&Ro&&(Ro.close(),Ro=null)}()}(n,e)}function YF(t,e){const n=_a.get(t);if(n)for(const r of n)r(e)}let Ro=null;const sJ="firebase-installations-database",aJ=1,Po="firebase-installations-store";let TI=null;function bI(){return TI||(TI=function jX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ki(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ki(s.result),u.oldVersion,u.newVersion,ki(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(sJ,aJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Po)}})),TI}function bf(t,e){return CI.apply(this,arguments)}function CI(){return CI=_(function*(t,e){const n=ya(t),i=(yield bI()).transaction(Po,"readwrite"),o=i.objectStore(Po),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&QF(t,e.fid),e}),CI.apply(this,arguments)}function SI(t){return AI.apply(this,arguments)}function AI(){return AI=_(function*(t){const e=ya(t),r=(yield bI()).transaction(Po,"readwrite");yield r.objectStore(Po).delete(e),yield r.done}),AI.apply(this,arguments)}function $c(t,e){return MI.apply(this,arguments)}function MI(){return MI=_(function*(t,e){const n=ya(t),i=(yield bI()).transaction(Po,"readwrite"),o=i.objectStore(Po),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&QF(t,a.fid),a}),MI.apply(this,arguments)}function xI(t){return NI.apply(this,arguments)}function NI(){return NI=_(function*(t){let e;const n=yield $c(t.appConfig,r=>{const i=function uJ(t){return eL(t||{fid:tJ(),registrationStatus:0})}(r),o=function cJ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Kr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function lJ(t,e){return kI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dJ(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===DI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),NI.apply(this,arguments)}function kI(){return kI=_(function*(t,e){try{const n=yield function JX(t,e){return EI.apply(this,arguments)}(t,e);return bf(t.appConfig,n)}catch(n){throw HF(n)&&409===n.customData.serverCode?yield SI(t.appConfig):yield bf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),kI.apply(this,arguments)}function dJ(t){return RI.apply(this,arguments)}function RI(){return RI=_(function*(t){let e=yield ZF(t.appConfig);for(;1===e.registrationStatus;)yield KF(100),e=yield ZF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield xI(t);return r||n}return e}),RI.apply(this,arguments)}function ZF(t){return $c(t,e=>{if(!e)throw Kr.create("installation-not-found");return eL(e)})}function eL(t){return function hJ(t){return 1===t.registrationStatus&&t.registrationTime+$F<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function PI(){return PI=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function pJ(t,{fid:e}){return`${yI(t)}/${e}/authTokens:generate`}(t,n),i=function WF(t,{refreshToken:e}){const n=qF(t);return n.append("Authorization",function XX(t){return`${GF} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jF,appId:t.appId}})},u=yield wI(()=>fetch(r,a));if(u.ok)return zF(yield u.json());throw yield _I("Generate Auth Token",u)}),PI.apply(this,arguments)}function OI(t){return FI.apply(this,arguments)}function FI(){return FI=_(function*(t,e=!1){let n;const r=yield $c(t.appConfig,o=>{if(!nL(o))throw Kr.create("not-registered");const s=o.authToken;if(!e&&function yJ(t){return 2===t.requestStatus&&!function _J(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qX}(t)}(s))return o;if(1===s.requestStatus)return n=function gJ(t,e){return LI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Kr.create("app-offline");const a=function vJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function mJ(t,e){return VI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),FI.apply(this,arguments)}function LI(){return LI=_(function*(t,e){let n=yield tL(t.appConfig);for(;1===n.authToken.requestStatus;)yield KF(100),n=yield tL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?OI(t,e):r}),LI.apply(this,arguments)}function tL(t){return $c(t,e=>{if(!nL(e))throw Kr.create("not-registered");return function wJ(t){return 1===t.requestStatus&&t.requestTime+$F<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function VI(){return VI=_(function*(t,e){try{const n=yield function fJ(t,e){return PI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield bf(t.appConfig,r),n}catch(n){if(!HF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bf(t.appConfig,r)}else yield SI(t.appConfig);throw n}}),VI.apply(this,arguments)}function nL(t){return void 0!==t&&2===t.registrationStatus}function BI(){return BI=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield xI(e);return r?r.catch(console.error):OI(e).catch(console.error),n.fid}),BI.apply(this,arguments)}function UI(){return UI=_(function*(t,e=!1){const n=t;return yield function DJ(t){return $I.apply(this,arguments)}(n),(yield OI(n,e)).token}),UI.apply(this,arguments)}function $I(){return $I=_(function*(t){const{registrationPromise:e}=yield xI(t);e&&(yield e)}),$I.apply(this,arguments)}function HI(t){return Kr.create("missing-app-config-values",{valueName:t})}const rL="installations",AJ=t=>{const e=t.getProvider("app").getImmediate(),n=function CJ(t){if(!t||!t.options)throw HI("App Configuration");if(!t.name)throw HI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw HI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Jd(e,"heartbeat"),_delete:()=>Promise.resolve()}},MJ=t=>{const n=Jd(t.getProvider("app").getImmediate(),rL).getImmediate();return{getId:()=>function IJ(t){return BI.apply(this,arguments)}(n),getToken:i=>function EJ(t){return UI.apply(this,arguments)}(n,i)}};(function xJ(){Kt(new Lt(rL,AJ,"PUBLIC")),Kt(new Lt("installations-internal",MJ,"PRIVATE"))})(),qe(UF,mI),qe(UF,mI,"esm2017");const zI="@firebase/remote-config",dn=new lr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $J{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function jJ(t=navigator){return t.languages&&t.languages[0]||t.language}class GJ{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:jJ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((I,y)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",y(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let y="fetch-client-network";throw"AbortError"===I?.name&&(y="fetch-timeout"),dn.create(y,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let I;try{I=yield h.json()}catch(y){throw dn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=I.entries,m=I.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class qJ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function HJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function zJ(t){if(!(t instanceof Hn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Jy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class QJ{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sf(t,e){const n=t.target.error||void 0;return dn.create(e,{originalErrorMessage:n&&n?.message})}const Oo="app_namespace_store";class ZJ{constructor(e,n,r,i=function JJ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Sf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Oo,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Oo],"readonly").objectStore(Oo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(Sf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(dn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([Oo],"readwrite").objectStore(Oo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(Sf(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(dn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Oo],"readwrite").objectStore(Oo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(Sf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(dn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class eZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nZ(){return YI.apply(this,arguments)}function YI(){return(YI=_(function*(){if(!so())return!1;try{return yield xu()}catch{return!1}})).apply(this,arguments)}!function tZ(){Kt(new Lt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!so())throw dn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw dn.create("registration-project-id");if(!s)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");const u=new ZJ(a,r.name,n=n||"firebase"),c=new eZ(u),l=new Ps(zI);l.logLevel=G.ERROR;const d=new GJ(i,Nu,n,o,s,a),h=new qJ(d,u),f=new $J(h,u,c,l),p=new QJ(r,f,c,u,l);return function VJ(t){const e=zn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qe(zI,"0.4.4"),qe(zI,"0.4.4","esm2017")}();const rZ=(t,e)=>e.some(n=>t instanceof n);let aL,uL;const cL=new WeakMap,XI=new WeakMap,lL=new WeakMap,JI=new WeakMap,ZI=new WeakMap;let eE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return XI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lZ(t){return"function"==typeof t?function cZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oZ(){return uL||(uL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tE(this),e),Qr(cL.get(this))}:function(...e){return Qr(t.apply(tE(this),e))}:function(e,...n){const r=t.call(tE(this),e,...n);return lL.set(r,e.sort?e.sort():[e]),Qr(r)}}(t):(t instanceof IDBTransaction&&function aZ(t){if(XI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});XI.set(t,e)}(t),rZ(t,function iZ(){return aL||(aL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,eE):t)}function Qr(t){if(t instanceof IDBRequest)return function sZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cL.set(n,t)}).catch(()=>{}),ZI.set(e,t),e}(t);if(JI.has(t))return JI.get(t);const e=lZ(t);return e!==t&&(JI.set(t,e),ZI.set(e,t)),e}const tE=t=>ZI.get(t);function dL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Qr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Qr(s.result),u.oldVersion,u.newVersion,Qr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function nE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Qr(n).then(()=>{})}const dZ=["get","getKey","getAll","getAllKeys","count"],hZ=["put","add","delete","clear"],rE=new Map;function hL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rE.get(e))return rE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dZ.includes(n))return;const o=function(){var s=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return rE.set(e,o),o}!function uZ(t){eE=t(eE)}(t=>({...t,get:(e,n,r)=>hL(e,n)||t.get(e,n,r),has:(e,n)=>!!hL(e,n)||t.has(e,n)}));const fZ="/firebase-messaging-sw.js",pZ="/firebase-cloud-messaging-push-scope",fL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gZ="https://fcmregistrations.googleapis.com/v1",pL="google.c.a.c_id",mZ="google.c.a.c_l",yZ="google.c.a.ts";var Ri=(()=>((Ri=Ri||{}).PUSH_RECEIVED="push-received",Ri.NOTIFICATION_CLICKED="notification-clicked",Ri))();function Yr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const iE="fcm_token_details_db",wZ=5,gL="fcm_token_object_Store";function oE(){return oE=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(iE))return null;let e=null;return(yield dL(iE,wZ,{upgrade:(r=_(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(gL))return;const c=a.objectStore(gL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Yr(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yr(d.auth),p256dh:Yr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yr(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yr(d.auth),p256dh:Yr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yr(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield nE(iE),yield nE("fcm_vapid_details_db"),yield nE("undefined"),function EZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),oE.apply(this,arguments)}const DZ="firebase-messaging-database",TZ=1,Fo="firebase-messaging-store";let sE=null;function aE(){return sE||(sE=dL(DZ,TZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fo)}})),sE}function mL(t){return uE.apply(this,arguments)}function uE(){return uE=_(function*(t){const e=hE(t),r=yield(yield aE()).transaction(Fo).objectStore(Fo).get(e);if(r)return r;{const i=yield function IZ(t){return oE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield cE(t,i),i}}),uE.apply(this,arguments)}function cE(t,e){return lE.apply(this,arguments)}function lE(){return lE=_(function*(t,e){const n=hE(t),i=(yield aE()).transaction(Fo,"readwrite");return yield i.objectStore(Fo).put(e,n),yield i.done,e}),lE.apply(this,arguments)}function dE(){return dE=_(function*(t){const e=hE(t),r=(yield aE()).transaction(Fo,"readwrite");yield r.objectStore(Fo).delete(e),yield r.done}),dE.apply(this,arguments)}function hE({appConfig:t}){return t.appId}const At=new lr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function SZ(t,e){return fE.apply(this,arguments)}function fE(){return fE=_(function*(t,e){const n=yield yE(t),r=_L(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(mE(t.appConfig),i)).json()}catch(s){throw At.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw At.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw At.create("token-subscribe-no-token");return o.token}),fE.apply(this,arguments)}function pE(){return pE=_(function*(t,e){const n=yield yE(t),r=_L(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${mE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw At.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw At.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw At.create("token-update-no-token");return o.token}),pE.apply(this,arguments)}function yL(t,e){return gE.apply(this,arguments)}function gE(){return gE=_(function*(t,e){const r={method:"DELETE",headers:yield yE(t)};try{const o=yield(yield fetch(`${mE(t.appConfig)}/${e}`,r)).json();if(o.error)throw At.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}),gE.apply(this,arguments)}function mE({projectId:t}){return`${gZ}/projects/${t}/registrations`}function yE(t){return _E.apply(this,arguments)}function _E(){return _E=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),_E.apply(this,arguments)}function _L({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==fL&&(i.web.applicationPubKey=r),i}const MZ=6048e5;function vE(){return vE=_(function*(t){const e=yield function kZ(t,e){return DE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Yr(e.getKey("auth")),p256dh:Yr(e.getKey("p256dh"))},r=yield mL(t.firebaseDependencies);if(r){if(function RZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+MZ?function NZ(t,e){return IE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield yL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return wL(t.firebaseDependencies,n)}return wL(t.firebaseDependencies,n)}),vE.apply(this,arguments)}function wE(){return wE=_(function*(t){const e=yield mL(t.firebaseDependencies);e&&(yield yL(t.firebaseDependencies,e.token),yield function bZ(t){return dE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),wE.apply(this,arguments)}function IE(){return IE=_(function*(t,e){try{const n=yield function AZ(t,e){return pE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield cE(t.firebaseDependencies,r),n}catch(n){throw yield function vL(t){return wE.apply(this,arguments)}(t),n}}),IE.apply(this,arguments)}function wL(t,e){return EE.apply(this,arguments)}function EE(){return EE=_(function*(t,e){const r={token:yield SZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield cE(t,r),r.token}),EE.apply(this,arguments)}function DE(){return DE=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vZ(e)})}),DE.apply(this,arguments)}function IL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function PZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function OZ(t,e){e.data&&(t.data=e.data)}(e,t),function FZ(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function EL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function TE(t){return At.create("missing-app-config-values",{valueName:t})}EL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),EL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class BZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function VZ(t){if(!t||!t.options)throw TE("App Configuration Object");if(!t.name)throw TE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw TE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bE(){return bE=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(fZ,{scope:pZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),bE.apply(this,arguments)}function CE(){return CE=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function DL(t){return bE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}}),CE.apply(this,arguments)}function SE(){return SE=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=fL)}),SE.apply(this,arguments)}function AE(){return AE=_(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield function $Z(t,e){return SE.apply(this,arguments)}(t,e?.vapidKey),yield function UZ(t,e){return CE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function xZ(t){return vE.apply(this,arguments)}(t)}),AE.apply(this,arguments)}function ME(){return ME=_(function*(t,e,n){const r=function GZ(t){switch(t){case Ri.NOTIFICATION_CLICKED:return"notification_open";case Ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pL],message_name:n[mZ],message_time:n[yZ],message_device_time:Math.floor(Date.now()/1e3)})}),ME.apply(this,arguments)}function xE(){return xE=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ri.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(IL(n)):t.onMessageHandler.next(IL(n)));const r=n.data;(function LZ(t){return"object"==typeof t&&!!t&&pL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function jZ(t,e,n){return ME.apply(this,arguments)}(t,n.messageType,r))}),xE.apply(this,arguments)}const bL="@firebase/messaging",zZ=t=>{const e=new BZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function HZ(t,e){return xE.apply(this,arguments)}(e,n)),e},qZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TL(t,e){return AE.apply(this,arguments)}(e,r)}};function SL(){return NE.apply(this,arguments)}function NE(){return(NE=_(function*(){try{yield xu()}catch{return!1}return typeof window<"u"&&so()&&Ky()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function WZ(){Kt(new Lt("messaging",zZ,"PUBLIC")),Kt(new Lt("messaging-internal",qZ,"PRIVATE")),qe(bL,"0.12.4"),qe(bL,"0.12.4","esm2017")}();const Af="analytics",YZ="firebase_id",XZ="origin",JZ=6e4,ZZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",PE="https://www.googletagmanager.com/gtag/js",_t=new Ps("@firebase/analytics"),Xt=new lr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function tee(t){if(!t.startsWith(PE)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function AL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OE(){return OE=_(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield AL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){_t.error(a)}t("config",i,o)}),OE.apply(this,arguments)}function FE(){return FE=_(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield AL(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){_t.error(o)}}),FE.apply(this,arguments)}const lee=30,ML=new class hee{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fee(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function LE(){return LE=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fee(r)},o=ZZ.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}),LE.apply(this,arguments)}function VE(){return VE=_(function*(t,e=ML,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Xt.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _ee;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:JZ),xL({appId:r,apiKey:i,measurementId:o},s,a,e)}),VE.apply(this,arguments)}function xL(t,e,n){return BE.apply(this,arguments)}function BE(){return BE=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ML){var o;const{appId:s,measurementId:a}=t;try{yield function mee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function pee(t){return LE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function yee(t){if(!(t instanceof Hn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Jy(n,i.intervalMillis,lee):Jy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),_t.debug(`Calling attemptFetch again in ${l} millis`),xL(t,d,r,i)}}),BE.apply(this,arguments)}class _ee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let UE,WE;function $E(){return $E=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}),$E.apply(this,arguments)}function KE(){return KE=_(function*(){if(!so())return _t.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield xu()}catch(t){return _t.warn(Xt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),KE.apply(this,arguments)}function QE(){return QE=_(function*(t,e,n,r,i,o,s){var a;const u=function gee(t){return VE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_t.error(f)),e.push(u);const c=function bee(){return KE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function cee(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(PE)&&n.src.includes(t))return n;return null})(o)||function ree(t,e){const n=function nee(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:tee}),r=document.createElement("script"),i=`${PE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),WE&&(i("consent","default",WE),function NL(t){WE=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[XZ]="firebase",h.update=!0,null!=d&&(h[YZ]=d),i("config",l.measurementId,h),UE&&(i("set",UE),function kL(t){UE=t}(void 0)),l.measurementId}),QE.apply(this,arguments)}class See{constructor(e){this.app=e}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},RL=[];const PL={};let FL,wr,Mf="dataLayer",YE=!1;function Mee(t,e,n){!function Aee(){const t=[];if(Wy()&&t.push("This is a browser extension environment."),Ky()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xt.create("no-api-key");_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[r])throw Xt.create("already-exists",{id:r});if(!YE){!function iee(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Mf);const{wrappedGtag:o,gtagCore:s}=function uee(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function aee(t,e,n,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function see(t,e,n,r,i){return FE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function oee(t,e,n,r,i,o){return OE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){_t.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(vr,RL,PL,Mf,"gtag");wr=o,FL=s,YE=!0}return vr[r]=function Cee(t,e,n,r,i,o,s){return QE.apply(this,arguments)}(t,RL,PL,e,FL,Mf,n),new See(t)}function Nee(){return XE.apply(this,arguments)}function XE(){return(XE=_(function*(){if(Wy()||!Ky()||!so())return!1;try{return yield xu()}catch{return!1}})).apply(this,arguments)}const LL="@firebase/analytics";!function Ree(){Kt(new Lt(Af,(e,{options:n})=>Mee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Kt(new Lt("analytics-internal",function t(e){try{const n=e.getProvider(Af).getImmediate();return{logEvent:(r,i,o)=>function kee(t,e,n,r){t=zn(t),function vee(t,e,n,r,i){return $E.apply(this,arguments)}(wr,vr[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}(n,r,i,o)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),qe(LL,"0.10.0"),qe(LL,"0.10.0","esm2017")}();class Pee extends Rn{constructor(e,n){super()}schedule(e,n=0){return this}}const xf={setInterval(t,e,...n){const{delegate:r}=xf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=xf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class BL extends Pee{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return xf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&xf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const UL={now:()=>(UL.delegate||Date).now(),delegate:void 0};class jc{constructor(e,n=jc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}jc.now=UL.now;class $L extends jc{constructor(e,n=jc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Lee=new class Fee extends $L{}(class Oee extends BL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Vee=new $L(BL),ZE=new ru("7.6.1"),eD="__angularfire_symbol__analyticsIsSupportedValue",tD="__angularfire_symbol__analyticsIsSupported",nD="__angularfire_symbol__remoteConfigIsSupportedValue",rD="__angularfire_symbol__remoteConfigIsSupported",iD="__angularfire_symbol__messagingIsSupportedValue",oD="__angularfire_symbol__messagingIsSupported";globalThis[tD]||(globalThis[tD]=Nee().then(t=>globalThis[eD]=t).catch(()=>globalThis[eD]=!1)),globalThis[oD]||(globalThis[oD]=SL().then(t=>globalThis[iD]=t).catch(()=>globalThis[iD]=!1)),globalThis[rD]||(globalThis[rD]=nZ().then(t=>globalThis[nD]=t).catch(()=>globalThis[nD]=!1));const uD=(t,e)=>{const n=e?[e]:e1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function va(){}class jL{constructor(e,n=Lee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Uee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),n.pipe(function Bee(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?qo((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Wo(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):yp}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let GL=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new jL(Zone.current)),this.insideAngular=n.run(()=>new jL(Zone.current,Vee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ne(Pe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Vo(t){return Lo().ngZone.run(()=>t())}function jee(t){return Lo(),function Gee(t){return function(n){return(n=n.lift(new Uee(t.ngZone))).pipe(dl(t.outsideAngular),ll(t.insideAngular))}}(Lo())(t)}const Hee=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vo(()=>t.apply(void 0,r))},HL=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)))),r[o]=Hee(r[o],n));const i=function $ee(t){return Lo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof wt){const o=Lo();return i.pipe(dl(o.outsideAngular),ll(o.insideAngular))}return Vo(()=>i)}return i instanceof wt?i.pipe(jee):i instanceof Promise?Vo(()=>new Promise((o,s)=>i.then(a=>Vo(()=>o(a)),a=>Vo(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Vo(()=>i)};class wa{constructor(e){return e}}class zL{constructor(){return e1()}}const cD=new B("angularfire2._apps"),qee={provide:wa,useFactory:function zee(t){return t&&1===t.length?t[0]:new wa(Zk())},deps:[[new vn,cD]]},Wee={provide:zL,deps:[[new vn,cD]]};function Kee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wa(r)}}let Qee=(()=>{class t{constructor(n){qe("angularfire",ZE.full,"core"),qe("angularfire",ZE.full,"app"),qe("angular",oA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ne(Xi))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({providers:[qee,Wee]}),t})();function Yee(t,...e){return{ngModule:Qee,providers:[{provide:cD,useFactory:Kee(t),multi:!0,deps:[Pe,ir,GL,...e]}]}}const Xee=HL(Jk,!0);const Jee=function qL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},WL=new lr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nf=new Ps("@firebase/auth");function kf(t,...e){Nf.logLevel<=G.ERROR&&Nf.error(`Auth (${Nu}): ${t}`,...e)}function hn(t,...e){throw lD(t,...e)}function Ir(t,...e){return lD(t,...e)}function lD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WL.create(t,...e)}function S(t,e,...n){if(!t)throw lD(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function Pi(t,e){t||Er(e)}function QL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=function C5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}()||function A5(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function ete(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dD(){return"http:"===QL()||"https:"===QL()}()||Wy()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class YL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rte=new Hc(3e4,6e4);function je(t,e,n,r){return fD.apply(this,arguments)}function fD(){return fD=_(function*(t,e,n,r,i={}){return XL(t,i,_(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Hk(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),YL.fetch()(JL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))}),fD.apply(this,arguments)}function XL(t,e,n){return pD.apply(this,arguments)}function pD(){return pD=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nte),e);try{const i=new ite(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw zc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw zc(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw zc(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw zc(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function KL(t,e,n){const r=Object.assign(Object.assign({},Jee()),{[e]:n});return new lr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);hn(t,l)}}catch(i){if(i instanceof Hn)throw i;hn(t,"network-request-failed",{message:String(i)})}}),pD.apply(this,arguments)}function JL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function hD(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class ite{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),rte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ir(t,e,r);return i.customData._tokenResponse=n,i}function mD(){return mD=_(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)}),mD.apply(this,arguments)}function _D(){return _D=_(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)}),_D.apply(this,arguments)}function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vD(){return vD=_(function*(t,e=!1){const n=zn(t),r=yield n.getIdToken(e),i=Rf(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qc(wD(i.auth_time)),issuedAtTime:qc(wD(i.iat)),expirationTime:qc(wD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}),vD.apply(this,arguments)}function wD(t){return 1e3*Number(t)}function Rf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=qd(n);return i?JSON.parse(i):(kf("Failed to decode base64 JWT payload"),null)}catch(i){return kf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Jr(t,e){return ID.apply(this,arguments)}function ID(){return ID=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Hn&&function lte({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),ID.apply(this,arguments)}class dte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ZL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wc(t){return ED.apply(this,arguments)}function ED(){return ED=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Jr(t,function ate(t,e){return _D.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function pte(t){return t.map(e=>{var{providerId:n}=e,r=fC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function fte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ZL(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),ED.apply(this,arguments)}function DD(){return DD=_(function*(t){const e=zn(t);yield Wc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),DD.apply(this,arguments)}function TD(){return TD=_(function*(t,e){const n=yield XL(t,{},_(function*(){const r=Hk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JL(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YL.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),TD.apply(this,arguments)}class Kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cte(t){const e=Rf(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function gte(t,e){return TD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Kc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(S("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kc,this.toJSON())}_performRefresh(){return Er("not implemented")}}function Oi(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=fC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ZL(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield Jr(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ute(t){return vD.apply(this,arguments)}(this,e)}reload(){return function hte(t){return DD.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Wc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Jr(e,function ote(t,e){return mD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:P,isAnonymous:F,providerData:te,stsTokenManager:it}=n;S(D&&it,e,"internal-error");const ti=Kc.fromJSON(this.name,it);S("string"==typeof D,e,"internal-error"),Oi(d,e.name),Oi(h,e.name),S("boolean"==typeof P,e,"internal-error"),S("boolean"==typeof F,e,"internal-error"),Oi(f,e.name),Oi(p,e.name),Oi(g,e.name),Oi(m,e.name),Oi(I,e.name),Oi(y,e.name);const Sa=new Bo({uid:D,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ti,createdAt:I,lastLoginAt:y});return te&&Array.isArray(te)&&(Sa.providerData=te.map(Foe=>Object.assign({},Foe))),m&&(Sa._redirectEventId=m),Sa}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Kc;i.updateFromServerResponse(n);const o=new Bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wc(o),o})()}}const eV=new Map;function Zr(t){Pi(t instanceof Function,"Expected a class definition");let e=eV.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eV.set(t,e),e)}const tV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Pf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Bo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Ea(Zr(tV),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Zr(tV);const s=Pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Bo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ea(o,e,r)):new Ea(o,e,r)})()}}function nV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function oV(t=En()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function rV(t=En()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function aV(t=En()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function uV(t=En()){return/webos/i.test(t)}(e))return"Webos";if(function bD(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function iV(t=En()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function sV(t=En()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function cV(t,e=[]){let n;switch(t){case"Browser":n=nV(En());break;case"Worker":n=`${nV(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nu}/${r}`}function lV(t,e){return SD.apply(this,arguments)}function SD(){return SD=_(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",function Le(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))}),SD.apply(this,arguments)}function hV(t){return void 0!==t&&void 0!==t.enterprise}class fV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class gV{constructor(e){this.type="recaptcha-enterprise",this.auth=vt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){lV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new fV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;hV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&hV(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function AD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ir("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function vte(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Dte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Tte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mV(this),this.idTokenSubscription=new mV(this),this.beforeStateQueue=new Dte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ea.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Wc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?zn(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Zr(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield lV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new gV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&Zr(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield Ea.create(n,[Zr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return S(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Zee(t,...e){Nf.logLevel<=G.WARN&&Nf.warn(`Auth (${Nu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function vt(t){return zn(t)}class mV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function k5(t,e){const n=new R5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function pV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Hc(3e4,6e4),new Hc(2e3,1e4),new Hc(3e4,6e4),new Hc(5e3,15e3),encodeURIComponent("fac");var zV="@firebase/auth";class mre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Wd(),function _re(t){Kt(new Lt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cV(t)},c=new Tte(r,i,o,u);return function Cte(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kt(new Lt("auth-internal",e=>{const n=vt(e.getProvider("auth").getImmediate());return new mre(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(zV,"0.23.2",function yre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),qe(zV,"0.23.2","esm2017")}("Browser");class QV{constructor(){return uD("auth")}}const mb=new Map,YV={activated:!1,tokenObservers:[]},bre={initialized:!1,enabled:!1};function Ge(t){return mb.get(t)||Object.assign({},YV)}function Wf(){return bre}const yb="https://content-firebaseappcheck.googleapis.com/v1",Mre="exchangeDebugToken",XV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nre{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Kd,yield function kre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Kd,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Mt=new lr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _b(t){if(!Ge(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function Yf(t,e){return wb.apply(this,arguments)}function wb(){return wb=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Mt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Mt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Mt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),wb.apply(this,arguments)}function JV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yb}/projects/${n}/apps/${r}:${Mre}?key=${i}`,body:{debug_token:e}}}const Fre="firebase-app-check-database",Lre=1,Zc="firebase-app-check-store";let Xf=null;function Ib(){return Ib=_(function*(t,e){const r=(yield function e2(){return Xf||(Xf=new Promise((t,e)=>{try{const n=indexedDB.open(Fre,Lre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zc,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n?.message}))}}),Xf)}()).transaction(Zc,"readwrite"),o=r.objectStore(Zc).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Mt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),Ib.apply(this,arguments)}const el=new Ps("@firebase/app-check");function Tb(t,e){return so()?function Bre(t,e){return function t2(t,e){return Ib.apply(this,arguments)}(function r2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{el.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Cb(){return Wf().enabled}function Sb(){return Ab.apply(this,arguments)}function Ab(){return Ab=_(function*(){const t=Wf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ab.apply(this,arguments)}const zre={error:"UNKNOWN_ERROR"};function qre(t){return qy.encodeString(JSON.stringify(t),!1)}function Jf(t){return Mb.apply(this,arguments)}function Mb(){return Mb=_(function*(t,e=!1){const n=t.app;_b(n);const r=Ge(n);let o,i=r.token;if(i&&!Ta(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ta(u)?i=u:yield Tb(n,void 0))}if(!e&&i&&Ta(i))return{token:i.token};let a,s=!1;if(Cb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yf(JV(n,yield Sb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield Tb(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ge(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?el.warn(u.message):el.error(u),o=u}return i?o?a=Ta(i)?{token:i.token,internalError:o}:a2(o):(a={token:i.token},r.token=i,yield Tb(n,i)):a=a2(o),s&&function s2(t,e){const n=Ge(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),Mb.apply(this,arguments)}function xb(){return xb=_(function*(t){const e=t.app;_b(e);const{provider:n}=Ge(e);if(Cb()){const r=yield Sb(),{token:i}=yield Yf(JV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),xb.apply(this,arguments)}function kb(t,e){const n=Ge(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function o2(t){const{app:e}=t,n=Ge(e);let r=n.tokenRefresher;r||(r=function Wre(t){const{app:e}=t;return new Nre(_(function*(){let r;if(r=Ge(e).token?yield Jf(t,!0):yield Jf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ge(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},XV.RETRIAL_MIN_WAIT,XV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ta(t){return t.expireTimeMillis-Date.now()>0}function a2(t){return{token:qre(zre),error:t}}class Kre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ge(this.app);for(const n of e)kb(this.app,n.next);return Promise.resolve()}}const g2="app-check-internal";!function uie(){Kt(new Lt("app-check",t=>function Qre(t,e){return new Kre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(g2).initialize()})),Kt(new Lt(g2,t=>function Yre(t){return{getToken:e=>Jf(t,e),getLimitedUseToken:()=>function i2(t){return xb.apply(this,arguments)}(t),addTokenListener:e=>function Nb(t,e,n,r){const{app:i}=t,o=Ge(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Ta(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),o2(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>o2(t))}(t,"INTERNAL",e),removeTokenListener:e=>kb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),qe("@firebase/app-check","0.8.0")}();class y2{constructor(){return uD("app-check")}}typeof window<"u"&&window;class ep{constructor(e){return e}}const _2="firestore",Lb=new B("angularfire2.firestore-instances");function gie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ep(r)}}const mie={provide:class fie{constructor(){return uD(_2)}},deps:[[new vn,Lb]]},yie={provide:ep,useFactory:function pie(t,e){const n=function aD(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(_2,t,e);return n&&new ep(n)},deps:[[new vn,Lb],wa]};let _ie=(()=>{class t{constructor(){qe("angularfire",ZE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({providers:[yie,mie]}),t})();function vie(t,...e){return{ngModule:_ie,providers:[{provide:Lb,useFactory:gie(t),multi:!0,deps:[Pe,ir,GL,zL,[new vn,QV],[new vn,y2],...e]}]}}const wie=HL(sX,!0);let Iie=(()=>{class t{constructor(n){this.firestore=n}addEmployee(n){const r=function nX(t,e,...n){if(t=zn(t),tI("collection","path",e),t instanceof Pc){const r=ue.fromString(e,...n);return lF(r),new _r(t,null,r)}{if(!(t instanceof Ye||t instanceof _r))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return lF(r),new _r(t.firestore,null,r)}}(this.firestore,"employee");return wX(r,n)}}return t.\u0275fac=function(n){return new(n||t)(ne(ep))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const{isArray:Eie}=Array,{getPrototypeOf:Die,prototype:Tie,keys:bie}=Object;const{isArray:Aie}=Array;function Nie(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kie(...t){const e=function JB(t){return Me(Ip(t))?t.pop():void 0}(t),{args:n,keys:r}=function Cie(t){if(1===t.length){const e=t[0];if(Eie(e))return{args:e,keys:null};if(function Sie(t){return t&&"object"==typeof t&&Die(t)===Tie}(e)){const n=bie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new wt(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;Tr(n[l]).subscribe(Wo(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?Nie(r,a):a),o.complete())}))}});return e?i.pipe(function xie(t){return vp(e=>function Mie(t,e){return Aie(e)?t(...e):t(e)}(t,e))}(e)):i}let v2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ji),C(Vn))},t.\u0275dir=Q({type:t}),t})(),Go=(()=>{class t extends v2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function kt(t){return br(()=>{const e=t.prototype.constructor,n=e[Sr]||ig(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Sr]||ig(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[me]}),t})();const Dr=new B("NgValueAccessor"),Pie={provide:Dr,useExisting:ve(()=>tp),multi:!0},Fie=new B("CompositionEventMode");let tp=(()=>{class t extends v2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oie(){const t=bu()?bu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ji),C(Vn),C(Fie,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ot("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[xe([Pie]),me]}),t})();const Gt=new B("NgValidators"),Vi=new B("NgAsyncValidators");function x2(t){return null!=t}function N2(t){return yd(t)?MC(t):t}function k2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function R2(t,e){return e.map(n=>n(t))}function P2(t){return t.map(e=>function Vie(t){return!t.validate}(e)?e:n=>e.validate(n))}function Vb(t){return null!=t?function O2(t){if(!t)return null;const e=t.filter(x2);return 0==e.length?null:function(n){return k2(R2(n,e))}}(P2(t)):null}function Bb(t){return null!=t?function F2(t){if(!t)return null;const e=t.filter(x2);return 0==e.length?null:function(n){return kie(R2(n,e).map(N2)).pipe(vp(k2))}}(P2(t)):null}function L2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ub(t){return t?Array.isArray(t)?t:[t]:[]}function rp(t,e){return Array.isArray(t)?t.includes(e):t===e}function U2(t,e){const n=Ub(e);return Ub(t).forEach(i=>{rp(n,i)||n.push(i)}),n}function $2(t,e){return Ub(e).filter(n=>!rp(t,n))}class j2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jt extends j2{get formDirective(){return null}get path(){return null}}class Bi extends j2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class G2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let H2=(()=>{class t extends G2{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Bi,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&fu("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[me]}),t})();const tl="VALID",op="INVALID",ba="PENDING",nl="DISABLED";function sp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class K2{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===op}get pending(){return this.status==ba}get disabled(){return this.status===nl}get enabled(){return this.status!==nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(U2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(U2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($2(e,this._rawAsyncValidators))}hasValidator(e){return rp(this._rawValidators,e)}hasAsyncValidator(e){return rp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ba,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===ba)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ba,this._hasOwnPendingAsyncValidator=!0;const n=N2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ft,this.statusChanges=new Ft}_calculateStatus(){return this._allControlsDisabled()?nl:this.errors?op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ba)?ba:this._anyControlsHaveStatus(op)?op:tl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Gie(t){return Array.isArray(t)?Vb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hie(t){return Array.isArray(t)?Bb(t):t||null}(this._rawAsyncValidators)}}const Ca=new B("CallSetDisabledState",{providedIn:"root",factory:()=>ap}),ap="always";function rl(t,e,n=ap){(function qb(t,e){const n=function V2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(L2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function B2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(L2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();lp(e._rawValidators,i),lp(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Wie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Q2(t,e)})}(t,e),function Qie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Kie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Q2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function qie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function lp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Q2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function J2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Z2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const eB=class extends K2{constructor(e=null,n,r){super(function Gb(t){return(sp(t)?t.validators:t)||null}(n),function Hb(t,e){return(sp(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Z2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){J2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){J2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Z2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},roe={provide:Bi,useExisting:ve(()=>Xb)},rB=(()=>Promise.resolve())();let Xb=(()=>{class t extends Bi{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new eB,this._registered=!1,this.name="",this.update=new Ft,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Qb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===tp?n=o:function Jie(t){return Object.getPrototypeOf(t.constructor)===Go}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Kb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){rB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function _y(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);rB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function up(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(Jt,9),C(Gt,10),C(Vi,10),C(Dr,10),C(LN,8),C(Ca,8))},t.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([roe]),me,Mr]}),t})(),oB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({}),t})(),Aoe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({imports:[oB]}),t})(),xoe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ca,useValue:n.callSetDisabledState??ap}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Pn({imports:[Aoe]}),t})();function Noe(t,e){if(1&t){const n=Cm();In(0,"li",17),Ot("click",function(){const o=Gp(n).$implicit;return Hp(_d().openForEdit(o))}),In(1,"span",18),ro(2),an(),ro(3),an()}if(2&t){const n=e.$implicit;fu("active",n==_d().selectedEmployee),eo(2),km(n.id),eo(1),Pm(" ",n.name," - ",n.country," ")}}function koe(t,e){if(1&t){const n=Cm();In(0,"button",19),Ot("click",function(){return Gp(n),Hp(_d().delectedEmployee())}),ro(1," delete "),an()}}let Roe=(()=>{class t{constructor(n){this.placesService=n,this.selectedEmployee=new Hy,this.employeeArray=[{name:"Ryan",country:"USA"},{name:"Angelica",country:"ARGENTINA"},{name:"Mariana",country:"JAPON"}]}addOrEdit(){this.employeeArray.push(this.selectedEmployee),this.selectedEmployee=new Hy;const n=this.placesService.addEmployee(this.selectedEmployee);console.log(n)}delectedEmployee(){confirm("are you sure you want to delete it?")&&(this.employeeArray=this.employeeArray.filter(n=>n!=this.selectedEmployee)),this.selectedEmployee=new Hy}openForEdit(n){this.selectedEmployee=n}}return t.\u0275fac=function(n){return new(n||t)(C(Iie))},t.\u0275cmp=KC({type:t,selectors:[["app-root"]],decls:21,vars:4,consts:[[1,"navbar","navbar-dark","bg-primary","ml-4"],["href","/",1,"navbar-brand"],[1,"container"],[1,"row"],[1,"col-md-8","mt-4"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"card","mt-4"],[1,"card-body"],[1,"card-title"],[1,"form-group"],["type","text","placeholder","Insert a name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Insert a country",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"col-md-4"],["width","300px","alt","angular logo","src","https://www.shanebart.com/wp-content/uploads/2021/11/3h5gjh43gj5hhg43j-1.png"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"badge","bg-primary"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){1&n&&(In(0,"nav",0)(1,"a",1),ro(2," angular simple CRUD "),an()(),In(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5),Im(7,Noe,4,5,"li",6),an(),In(8,"div",7)(9,"div",8)(10,"div",9),ro(11," insert a new employee "),an(),In(12,"div",10)(13,"input",11),Ot("ngModelChange",function(o){return r.selectedEmployee.name=o}),an()(),In(14,"div",10)(15,"input",12),Ot("ngModelChange",function(o){return r.selectedEmployee.country=o}),an()(),In(16,"button",13),Ot("click",function(){return r.addOrEdit()}),ro(17," Submit "),an(),Im(18,koe,2,0,"button",14),an()()(),In(19,"div",15),Dm(20,"img",16),an()()()),2&n&&(eo(7),Ss("ngForOf",r.employeeArray),eo(6),Ss("ngModel",r.selectedEmployee.name),eo(2),Ss("ngModel",r.selectedEmployee.country),eo(3),Ss("ngIf",r.selectedEmployee))},dependencies:[ck,dk,tp,H2,Xb]}),t})();const Poe_firebase={projectId:"crud-4e634",appId:"1:305276386426:web:342ea5fe800543abba8fc3",storageBucket:"crud-4e634.appspot.com",apiKey:"AIzaSyD8Wk65uAG63Prqwr3_tZOgQpMWTnHBrGI",authDomain:"crud-4e634.firebaseapp.com",messagingSenderId:"305276386426"};let Ooe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t,bootstrap:[Roe]}),t.\u0275inj=Pn({imports:[o5,xoe,Yee(()=>Xee(Poe_firebase)),vie(()=>wie())]}),t})();r5().bootstrapModule(Ooe).catch(t=>console.error(t))}},Me=>{Me(Me.s=183)}]);